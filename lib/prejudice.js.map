{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 18ffa05f60418d7dde0b","webpack:///./src/Prejudice/Action.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/Prejudice/VariableStorageDriver.js","webpack:///./node_modules/reqwest/reqwest.js","webpack:///./src/Prejudice/Driver/Record.js","webpack:///./src/Prejudice/IdleTimeout.js","webpack:///./src/Prejudice/PersistantStorageDriver.js","webpack:///./src/Prejudice.js","webpack:///./src/Prejudice/SessionStorageDriver.js","webpack:///./src/Prejudice/LocalStorageDriver.js","webpack:///xhr2 (ignored)","webpack:///./src/Prejudice/Action/Text.js","webpack:///./src/Prejudice/Action/Email.js","webpack:///./src/Prejudice/Action/File.js","webpack:///./src/Prejudice/Action/Tag.js","webpack:///./src/Prejudice/Action/Favorite.js","webpack:///./src/Prejudice/Action/UnTag.js","webpack:///./src/Prejudice/Action/UnFavorite.js","webpack:///./src/Prejudice/Driver.js","webpack:///./src/Prejudice/Driver/Record/UidHash.js","webpack:///./src/Prejudice/Driver/Record/ReactHash.js","webpack:///./src/Prejudice/Driver/Record/Pride.js","webpack:///./src/Prejudice/Driver/Record/Null.js","webpack:///./src/Prejudice/Profile.js","webpack:///./node_modules/idle-timeout/dist/idle-timeout.js","webpack:///./src/Prejudice/FavoritesList.js","webpack:///./src/Prejudice/FavoritesSuggest.js"],"names":["Action","init","baseUrl","observers","apply","bind","registerBaseUrl","getUrl","addObserver","path","join","data","callback","forEach","observer","url","JSON","stringify","type","method","contentType","withCredentials","error","success","push","VariableStorageDriver","records","notifyObservers","add","remove","clear","list","count","findIndex","getInstance","constructor","record","idx","datastore","item","uid","splice","ret","Object","keys","key","concat","length","Record","engine","registerEngine","IdleTimeout","idleTimer","setIdleTimer","element","document","timeout","PersistantStorageDriver","storage","read","global","window","addEventListener","driver","e","storageArea","write","parse","getItem","setItem","Prejudice","recordStorage","actions","text","email","tag","favorite","untag","unfavorite","file","datastores","profile","favoritesList","favoritesSuggest","setRecordStorage","addRecord","listRecords","removeRecord","act","clearRecords","registerRecordEngine","resolveRecord","registerDatastore","registerActionBaseUrl","addProfileObserver","addFavoritesListObserver","addFavoritesSuggestObserver","favoriteAdded","favoriteRemoved","tagAdded","tagRemoved","recordEngine","slug","location","origin","actionBaseUrl","addFavorite","removeFavorite","addTag","removeTag","datastoreUid","datastoreBaseUrl","Driver","UidHash","ReactHash","Pride","renderFull","has_holdings","getHoldings","holdings","match","dataToRecord","Null","action","argument","to","map","defineProperty","value","exp","sessionStorage","localStorage","Text","Email","File","formId","targetName","ensureForm","submitForm","setFormInput","ensureTarget","getElementsByName","iframe","createElement","src","name","style","body","appendChild","getElementById","form","input","id","target","enctype","children","slice","submit","status","Tag","Favorite","UnTag","UnFavorite","recordUid","requestRecord","Core","Profile","last","interval","intervalDuration","idleDetection","update","handleData","setInterval","isIdle","startup","FavoritesList","tags","dirty","Array","isArray","favoritedItem","existing","find","index","FavoritesSuggest","courses","recent"],"mappings":"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AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,mCAAmC;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA,uBAAuB,eAAe;AACtC;AACA;;AAEA,eAAe,sBAAsB;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAM,uBAAuB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA,QAAQ,+BAA+B;AACvC;AACA;AACA;AACA,gBAAgB,yBAAyB;AACzC,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AA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A;AACA,iBAAiB,SAAS;AAC1B,iBAAiB,OAAO;AACxB,mBAAmB;AACnB;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;;;;;;;;;;;;;;;;AClPA;;;;AACA;;;;;;;;IAEMU,a;AAEJ,2BAAc;A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","file":"prejudice.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"prejudice\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"prejudice\"] = factory();\n\telse\n\t\troot[\"prejudice\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 18ffa05f60418d7dde0b","import reqwest from 'reqwest';\n\nconst Action = class Action {\n  constructor(init) {\n    this.baseUrl = (init && init.baseUrl) || '';\n    this.observers = [];\n\n    this.apply = this.apply.bind(this);\n    this.registerBaseUrl = this.registerBaseUrl.bind(this);\n    this.getUrl = this.getUrl.bind(this);\n    this.addObserver = this.addObserver.bind(this);\n  }\n\n  getUrl() {\n    return [this.baseUrl, this.path].join('/');\n  }\n\n  apply(data, callback) {\n    this.observers.forEach(\n      function (observer) {\n        if (typeof observer === 'function') {\n          observer(data);\n        }\n      },\n      this\n    );\n    reqwest({\n      url: this.getUrl(),\n      data: JSON.stringify(data),\n      type: 'json',\n      method: 'post',\n      contentType: 'application/json',\n      withCredentials: true,\n      error: callback,\n      success: callback\n    });\n    return this;\n  }\n\n  registerBaseUrl(baseUrl) {\n    this.baseUrl = baseUrl;\n    return this;\n  }\n\n  addObserver(observer) {\n    this.observers.push(observer);\n  }\n};\n\nexport default Action;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Action.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 1\n// module chunks = 0","class VariableStorageDriver {\n  constructor() {\n    this.records = {};\n    this.observers = [];\n\n    this.addObserver = this.addObserver.bind(this);\n    this.notifyObservers = this.notifyObservers.bind(this);\n    this.add = this.add.bind(this);\n    this.remove = this.remove.bind(this);\n    this.clear = this.clear.bind(this);\n    this.list = this.list.bind(this);\n    this.count = this.count.bind(this);\n    this.findIndex = this.findIndex.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n  }\n\n  getInstance() {\n    return new this.constructor();\n  }\n\n  notifyObservers() {\n    this.observers.forEach(\n      function (observer) {\n        if (typeof observer === 'function') {\n          observer(this.records);\n        }\n      },\n      this\n    );\n    return this;\n  }\n\n  addObserver(observer) {\n    this.observers.push(observer);\n    return this;\n  }\n\n  add(record) {\n    const idx = this.findIndex(record);\n\n    if (idx === -1) {\n      this.records[record.datastore] = this.records[record.datastore] || [];\n      this.records[record.datastore].push(record);\n      this.notifyObservers();\n      return true;\n    }\n    return false;\n  }\n\n  findIndex(record) {\n    if (!this.records[record.datastore]) {\n      return -1;\n    }\n    return this.records[record.datastore].findIndex(function (item) {\n      return item.datastore === record.datastore && item.uid === record.uid;\n    });\n  }\n\n  remove(record) {\n    const idx = this.findIndex(record);\n\n    if (idx >= 0) {\n      this.records[record.datastore].splice(idx, 1);\n      this.notifyObservers();\n      return true;\n    }\n    return false;\n  }\n\n  clear(datastore) {\n    if (datastore && this.count(datastore) > 0) {\n      this.records[datastore] = [];\n      this.notifyObservers();\n      return true;\n    } else if (this.count() > 0) {\n      this.records = {};\n      this.notifyObservers();\n      return true;\n    }\n    return false;\n  }\n\n  list(datastore) {\n    if (datastore) {\n      return this.records[datastore] || [];\n    }\n    let ret = [];\n\n    Object.keys(this.records).forEach(function (key) {\n      ret = ret.concat(this.list(key));\n    }, this);\n    return ret;\n  }\n\n  count(datastore) {\n    if (datastore) {\n      return this.list(datastore).length;\n    }\n    let ret = 0;\n\n    Object.keys(this.records).forEach(function (key) {\n      ret += this.count(key);\n    }, this);\n    return ret;\n  }\n}\n\nexport default new VariableStorageDriver();\nexport { VariableStorageDriver };\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/VariableStorageDriver.js","/*!\n  * Reqwest! A general purpose XHR connection manager\n  * license MIT (c) Dustin Diaz 2015\n  * https://github.com/ded/reqwest\n  */\n\n!function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else context[name] = definition()\n}('reqwest', this, function () {\n\n  var context = this\n\n  if ('window' in context) {\n    var doc = document\n      , byTag = 'getElementsByTagName'\n      , head = doc[byTag]('head')[0]\n  } else {\n    var XHR2\n    try {\n      XHR2 = require('xhr2')\n    } catch (ex) {\n      throw new Error('Peer dependency `xhr2` required! Please npm install xhr2')\n    }\n  }\n\n\n  var httpsRe = /^http/\n    , protocolRe = /(^\\w+):\\/\\//\n    , twoHundo = /^(20\\d|1223)$/ //http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n    , readyState = 'readyState'\n    , contentType = 'Content-Type'\n    , requestedWith = 'X-Requested-With'\n    , uniqid = 0\n    , callbackPrefix = 'reqwest_' + (+new Date())\n    , lastValue // data stored by the most recent JSONP callback\n    , xmlHttpRequest = 'XMLHttpRequest'\n    , xDomainRequest = 'XDomainRequest'\n    , noop = function () {}\n\n    , isArray = typeof Array.isArray == 'function'\n        ? Array.isArray\n        : function (a) {\n            return a instanceof Array\n          }\n\n    , defaultHeaders = {\n          'contentType': 'application/x-www-form-urlencoded'\n        , 'requestedWith': xmlHttpRequest\n        , 'accept': {\n              '*':  'text/javascript, text/html, application/xml, text/xml, */*'\n            , 'xml':  'application/xml, text/xml'\n            , 'html': 'text/html'\n            , 'text': 'text/plain'\n            , 'json': 'application/json, text/javascript'\n            , 'js':   'application/javascript, text/javascript'\n          }\n      }\n\n    , xhr = function(o) {\n        // is it x-domain\n        if (o['crossOrigin'] === true) {\n          var xhr = context[xmlHttpRequest] ? new XMLHttpRequest() : null\n          if (xhr && 'withCredentials' in xhr) {\n            return xhr\n          } else if (context[xDomainRequest]) {\n            return new XDomainRequest()\n          } else {\n            throw new Error('Browser does not support cross-origin requests')\n          }\n        } else if (context[xmlHttpRequest]) {\n          return new XMLHttpRequest()\n        } else if (XHR2) {\n          return new XHR2()\n        } else {\n          return new ActiveXObject('Microsoft.XMLHTTP')\n        }\n      }\n    , globalSetupOptions = {\n        dataFilter: function (data) {\n          return data\n        }\n      }\n\n  function succeed(r) {\n    var protocol = protocolRe.exec(r.url)\n    protocol = (protocol && protocol[1]) || context.location.protocol\n    return httpsRe.test(protocol) ? twoHundo.test(r.request.status) : !!r.request.response\n  }\n\n  function handleReadyState(r, success, error) {\n    return function () {\n      // use _aborted to mitigate against IE err c00c023f\n      // (can't read props on aborted request objects)\n      if (r._aborted) return error(r.request)\n      if (r._timedOut) return error(r.request, 'Request is aborted: timeout')\n      if (r.request && r.request[readyState] == 4) {\n        r.request.onreadystatechange = noop\n        if (succeed(r)) success(r.request)\n        else\n          error(r.request)\n      }\n    }\n  }\n\n  function setHeaders(http, o) {\n    var headers = o['headers'] || {}\n      , h\n\n    headers['Accept'] = headers['Accept']\n      || defaultHeaders['accept'][o['type']]\n      || defaultHeaders['accept']['*']\n\n    var isAFormData = typeof FormData !== 'undefined' && (o['data'] instanceof FormData);\n    // breaks cross-origin requests with legacy browsers\n    if (!o['crossOrigin'] && !headers[requestedWith]) headers[requestedWith] = defaultHeaders['requestedWith']\n    if (!headers[contentType] && !isAFormData) headers[contentType] = o['contentType'] || defaultHeaders['contentType']\n    for (h in headers)\n      headers.hasOwnProperty(h) && 'setRequestHeader' in http && http.setRequestHeader(h, headers[h])\n  }\n\n  function setCredentials(http, o) {\n    if (typeof o['withCredentials'] !== 'undefined' && typeof http.withCredentials !== 'undefined') {\n      http.withCredentials = !!o['withCredentials']\n    }\n  }\n\n  function generalCallback(data) {\n    lastValue = data\n  }\n\n  function urlappend (url, s) {\n    return url + (/\\?/.test(url) ? '&' : '?') + s\n  }\n\n  function handleJsonp(o, fn, err, url) {\n    var reqId = uniqid++\n      , cbkey = o['jsonpCallback'] || 'callback' // the 'callback' key\n      , cbval = o['jsonpCallbackName'] || reqwest.getcallbackPrefix(reqId)\n      , cbreg = new RegExp('((^|\\\\?|&)' + cbkey + ')=([^&]+)')\n      , match = url.match(cbreg)\n      , script = doc.createElement('script')\n      , loaded = 0\n      , isIE10 = navigator.userAgent.indexOf('MSIE 10.0') !== -1\n\n    if (match) {\n      if (match[3] === '?') {\n        url = url.replace(cbreg, '$1=' + cbval) // wildcard callback func name\n      } else {\n        cbval = match[3] // provided callback func name\n      }\n    } else {\n      url = urlappend(url, cbkey + '=' + cbval) // no callback details, add 'em\n    }\n\n    context[cbval] = generalCallback\n\n    script.type = 'text/javascript'\n    script.src = url\n    script.async = true\n    if (typeof script.onreadystatechange !== 'undefined' && !isIE10) {\n      // need this for IE due to out-of-order onreadystatechange(), binding script\n      // execution to an event listener gives us control over when the script\n      // is executed. See http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n      script.htmlFor = script.id = '_reqwest_' + reqId\n    }\n\n    script.onload = script.onreadystatechange = function () {\n      if ((script[readyState] && script[readyState] !== 'complete' && script[readyState] !== 'loaded') || loaded) {\n        return false\n      }\n      script.onload = script.onreadystatechange = null\n      script.onclick && script.onclick()\n      // Call the user callback with the last value stored and clean up values and scripts.\n      fn(lastValue)\n      lastValue = undefined\n      head.removeChild(script)\n      loaded = 1\n    }\n\n    // Add the script to the DOM head\n    head.appendChild(script)\n\n    // Enable JSONP timeout\n    return {\n      abort: function () {\n        script.onload = script.onreadystatechange = null\n        err({}, 'Request is aborted: timeout', {})\n        lastValue = undefined\n        head.removeChild(script)\n        loaded = 1\n      }\n    }\n  }\n\n  function getRequest(fn, err) {\n    var o = this.o\n      , method = (o['method'] || 'GET').toUpperCase()\n      , url = typeof o === 'string' ? o : o['url']\n      // convert non-string objects to query-string form unless o['processData'] is false\n      , data = (o['processData'] !== false && o['data'] && typeof o['data'] !== 'string')\n        ? reqwest.toQueryString(o['data'])\n        : (o['data'] || null)\n      , http\n      , sendWait = false\n\n    // if we're working on a GET request and we have data then we should append\n    // query string to end of URL and not post data\n    if ((o['type'] == 'jsonp' || method == 'GET') && data) {\n      url = urlappend(url, data)\n      data = null\n    }\n\n    if (o['type'] == 'jsonp') return handleJsonp(o, fn, err, url)\n\n    // get the xhr from the factory if passed\n    // if the factory returns null, fall-back to ours\n    http = (o.xhr && o.xhr(o)) || xhr(o)\n\n    http.open(method, url, o['async'] === false ? false : true)\n    setHeaders(http, o)\n    setCredentials(http, o)\n    if (context[xDomainRequest] && http instanceof context[xDomainRequest]) {\n        http.onload = fn\n        http.onerror = err\n        // NOTE: see\n        // http://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/30ef3add-767c-4436-b8a9-f1ca19b4812e\n        http.onprogress = function() {}\n        sendWait = true\n    } else {\n      http.onreadystatechange = handleReadyState(this, fn, err)\n    }\n    o['before'] && o['before'](http)\n    if (sendWait) {\n      setTimeout(function () {\n        http.send(data)\n      }, 200)\n    } else {\n      http.send(data)\n    }\n    return http\n  }\n\n  function Reqwest(o, fn) {\n    this.o = o\n    this.fn = fn\n\n    init.apply(this, arguments)\n  }\n\n  function setType(header) {\n    // json, javascript, text/plain, text/html, xml\n    if (header === null) return undefined; //In case of no content-type.\n    if (header.match('json')) return 'json'\n    if (header.match('javascript')) return 'js'\n    if (header.match('text')) return 'html'\n    if (header.match('xml')) return 'xml'\n  }\n\n  function init(o, fn) {\n\n    this.url = typeof o == 'string' ? o : o['url']\n    this.timeout = null\n\n    // whether request has been fulfilled for purpose\n    // of tracking the Promises\n    this._fulfilled = false\n    // success handlers\n    this._successHandler = function(){}\n    this._fulfillmentHandlers = []\n    // error handlers\n    this._errorHandlers = []\n    // complete (both success and fail) handlers\n    this._completeHandlers = []\n    this._erred = false\n    this._responseArgs = {}\n\n    var self = this\n\n    fn = fn || function () {}\n\n    if (o['timeout']) {\n      this.timeout = setTimeout(function () {\n        timedOut()\n      }, o['timeout'])\n    }\n\n    if (o['success']) {\n      this._successHandler = function () {\n        o['success'].apply(o, arguments)\n      }\n    }\n\n    if (o['error']) {\n      this._errorHandlers.push(function () {\n        o['error'].apply(o, arguments)\n      })\n    }\n\n    if (o['complete']) {\n      this._completeHandlers.push(function () {\n        o['complete'].apply(o, arguments)\n      })\n    }\n\n    function complete (resp) {\n      o['timeout'] && clearTimeout(self.timeout)\n      self.timeout = null\n      while (self._completeHandlers.length > 0) {\n        self._completeHandlers.shift()(resp)\n      }\n    }\n\n    function success (resp) {\n      var type = o['type'] || resp && setType(resp.getResponseHeader('Content-Type')) // resp can be undefined in IE\n      resp = (type !== 'jsonp') ? self.request : resp\n      // use global data filter on response text\n      var filteredResponse = globalSetupOptions.dataFilter(resp.responseText, type)\n        , r = filteredResponse\n      try {\n        resp.responseText = r\n      } catch (e) {\n        // can't assign this in IE<=8, just ignore\n      }\n      if (r) {\n        switch (type) {\n        case 'json':\n          try {\n            resp = context.JSON ? context.JSON.parse(r) : eval('(' + r + ')')\n          } catch (err) {\n            return error(resp, 'Could not parse JSON in response', err)\n          }\n          break\n        case 'js':\n          resp = eval(r)\n          break\n        case 'html':\n          resp = r\n          break\n        case 'xml':\n          resp = resp.responseXML\n              && resp.responseXML.parseError // IE trololo\n              && resp.responseXML.parseError.errorCode\n              && resp.responseXML.parseError.reason\n            ? null\n            : resp.responseXML\n          break\n        }\n      }\n\n      self._responseArgs.resp = resp\n      self._fulfilled = true\n      fn(resp)\n      self._successHandler(resp)\n      while (self._fulfillmentHandlers.length > 0) {\n        resp = self._fulfillmentHandlers.shift()(resp)\n      }\n\n      complete(resp)\n    }\n\n    function timedOut() {\n      self._timedOut = true\n      self.request.abort()\n    }\n\n    function error(resp, msg, t) {\n      resp = self.request\n      self._responseArgs.resp = resp\n      self._responseArgs.msg = msg\n      self._responseArgs.t = t\n      self._erred = true\n      while (self._errorHandlers.length > 0) {\n        self._errorHandlers.shift()(resp, msg, t)\n      }\n      complete(resp)\n    }\n\n    this.request = getRequest.call(this, success, error)\n  }\n\n  Reqwest.prototype = {\n    abort: function () {\n      this._aborted = true\n      this.request.abort()\n    }\n\n  , retry: function () {\n      init.call(this, this.o, this.fn)\n    }\n\n    /**\n     * Small deviation from the Promises A CommonJs specification\n     * http://wiki.commonjs.org/wiki/Promises/A\n     */\n\n    /**\n     * `then` will execute upon successful requests\n     */\n  , then: function (success, fail) {\n      success = success || function () {}\n      fail = fail || function () {}\n      if (this._fulfilled) {\n        this._responseArgs.resp = success(this._responseArgs.resp)\n      } else if (this._erred) {\n        fail(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)\n      } else {\n        this._fulfillmentHandlers.push(success)\n        this._errorHandlers.push(fail)\n      }\n      return this\n    }\n\n    /**\n     * `always` will execute whether the request succeeds or fails\n     */\n  , always: function (fn) {\n      if (this._fulfilled || this._erred) {\n        fn(this._responseArgs.resp)\n      } else {\n        this._completeHandlers.push(fn)\n      }\n      return this\n    }\n\n    /**\n     * `fail` will execute when the request fails\n     */\n  , fail: function (fn) {\n      if (this._erred) {\n        fn(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)\n      } else {\n        this._errorHandlers.push(fn)\n      }\n      return this\n    }\n  , 'catch': function (fn) {\n      return this.fail(fn)\n    }\n  }\n\n  function reqwest(o, fn) {\n    return new Reqwest(o, fn)\n  }\n\n  // normalize newline variants according to spec -> CRLF\n  function normalize(s) {\n    return s ? s.replace(/\\r?\\n/g, '\\r\\n') : ''\n  }\n\n  function serial(el, cb) {\n    var n = el.name\n      , t = el.tagName.toLowerCase()\n      , optCb = function (o) {\n          // IE gives value=\"\" even where there is no value attribute\n          // 'specified' ref: http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-862529273\n          if (o && !o['disabled'])\n            cb(n, normalize(o['attributes']['value'] && o['attributes']['value']['specified'] ? o['value'] : o['text']))\n        }\n      , ch, ra, val, i\n\n    // don't serialize elements that are disabled or without a name\n    if (el.disabled || !n) return\n\n    switch (t) {\n    case 'input':\n      if (!/reset|button|image|file/i.test(el.type)) {\n        ch = /checkbox/i.test(el.type)\n        ra = /radio/i.test(el.type)\n        val = el.value\n        // WebKit gives us \"\" instead of \"on\" if a checkbox has no value, so correct it here\n        ;(!(ch || ra) || el.checked) && cb(n, normalize(ch && val === '' ? 'on' : val))\n      }\n      break\n    case 'textarea':\n      cb(n, normalize(el.value))\n      break\n    case 'select':\n      if (el.type.toLowerCase() === 'select-one') {\n        optCb(el.selectedIndex >= 0 ? el.options[el.selectedIndex] : null)\n      } else {\n        for (i = 0; el.length && i < el.length; i++) {\n          el.options[i].selected && optCb(el.options[i])\n        }\n      }\n      break\n    }\n  }\n\n  // collect up all form elements found from the passed argument elements all\n  // the way down to child elements; pass a '<form>' or form fields.\n  // called with 'this'=callback to use for serial() on each element\n  function eachFormElement() {\n    var cb = this\n      , e, i\n      , serializeSubtags = function (e, tags) {\n          var i, j, fa\n          for (i = 0; i < tags.length; i++) {\n            fa = e[byTag](tags[i])\n            for (j = 0; j < fa.length; j++) serial(fa[j], cb)\n          }\n        }\n\n    for (i = 0; i < arguments.length; i++) {\n      e = arguments[i]\n      if (/input|select|textarea/i.test(e.tagName)) serial(e, cb)\n      serializeSubtags(e, [ 'input', 'select', 'textarea' ])\n    }\n  }\n\n  // standard query string style serialization\n  function serializeQueryString() {\n    return reqwest.toQueryString(reqwest.serializeArray.apply(null, arguments))\n  }\n\n  // { 'name': 'value', ... } style serialization\n  function serializeHash() {\n    var hash = {}\n    eachFormElement.apply(function (name, value) {\n      if (name in hash) {\n        hash[name] && !isArray(hash[name]) && (hash[name] = [hash[name]])\n        hash[name].push(value)\n      } else hash[name] = value\n    }, arguments)\n    return hash\n  }\n\n  // [ { name: 'name', value: 'value' }, ... ] style serialization\n  reqwest.serializeArray = function () {\n    var arr = []\n    eachFormElement.apply(function (name, value) {\n      arr.push({name: name, value: value})\n    }, arguments)\n    return arr\n  }\n\n  reqwest.serialize = function () {\n    if (arguments.length === 0) return ''\n    var opt, fn\n      , args = Array.prototype.slice.call(arguments, 0)\n\n    opt = args.pop()\n    opt && opt.nodeType && args.push(opt) && (opt = null)\n    opt && (opt = opt.type)\n\n    if (opt == 'map') fn = serializeHash\n    else if (opt == 'array') fn = reqwest.serializeArray\n    else fn = serializeQueryString\n\n    return fn.apply(null, args)\n  }\n\n  reqwest.toQueryString = function (o, trad) {\n    var prefix, i\n      , traditional = trad || false\n      , s = []\n      , enc = encodeURIComponent\n      , add = function (key, value) {\n          // If value is a function, invoke it and return its value\n          value = ('function' === typeof value) ? value() : (value == null ? '' : value)\n          s[s.length] = enc(key) + '=' + enc(value)\n        }\n    // If an array was passed in, assume that it is an array of form elements.\n    if (isArray(o)) {\n      for (i = 0; o && i < o.length; i++) add(o[i]['name'], o[i]['value'])\n    } else {\n      // If traditional, encode the \"old\" way (the way 1.3.2 or older\n      // did it), otherwise encode params recursively.\n      for (prefix in o) {\n        if (o.hasOwnProperty(prefix)) buildParams(prefix, o[prefix], traditional, add)\n      }\n    }\n\n    // spaces should be + according to spec\n    return s.join('&').replace(/%20/g, '+')\n  }\n\n  function buildParams(prefix, obj, traditional, add) {\n    var name, i, v\n      , rbracket = /\\[\\]$/\n\n    if (isArray(obj)) {\n      // Serialize array item.\n      for (i = 0; obj && i < obj.length; i++) {\n        v = obj[i]\n        if (traditional || rbracket.test(prefix)) {\n          // Treat each array item as a scalar.\n          add(prefix, v)\n        } else {\n          buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, traditional, add)\n        }\n      }\n    } else if (obj && obj.toString() === '[object Object]') {\n      // Serialize object item.\n      for (name in obj) {\n        buildParams(prefix + '[' + name + ']', obj[name], traditional, add)\n      }\n\n    } else {\n      // Serialize scalar item.\n      add(prefix, obj)\n    }\n  }\n\n  reqwest.getcallbackPrefix = function () {\n    return callbackPrefix\n  }\n\n  // jQuery and Zepto compatibility, differences can be remapped here so you can call\n  // .ajax.compat(options, callback)\n  reqwest.compat = function (o, fn) {\n    if (o) {\n      o['type'] && (o['method'] = o['type']) && delete o['type']\n      o['dataType'] && (o['type'] = o['dataType'])\n      o['jsonpCallback'] && (o['jsonpCallbackName'] = o['jsonpCallback']) && delete o['jsonpCallback']\n      o['jsonp'] && (o['jsonpCallback'] = o['jsonp'])\n    }\n    return new Reqwest(o, fn)\n  }\n\n  reqwest.ajaxSetup = function (options) {\n    options = options || {}\n    for (var k in options) {\n      globalSetupOptions[k] = options[k]\n    }\n  }\n\n  return reqwest\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/reqwest/reqwest.js\n// module id = 3\n// module chunks = 0","class Record {\n  constructor() {\n    this.engine = null;\n    this.registerEngine = this.registerEngine.bind(this);\n  }\n\n  registerEngine(engine) {\n    this.engine = engine;\n  }\n}\nexport default Record;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Driver/Record.js","import idleTimeout from 'idle-timeout';\n\nclass IdleTimeout {\n  constructor() {\n    this.idleTimer = null;\n    this.setIdleTimer = this.setIdleTimer.bind(this);\n  }\n\n  setIdleTimer() {\n    this.idleTimer = idleTimeout(\n      () => {},\n      {\n        element: document,\n        timeout: 150000\n      }\n    );\n    return this;\n  }\n}\n\nexport default new IdleTimeout();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/IdleTimeout.js","import { VariableStorageDriver } from './VariableStorageDriver';\n\nclass PersistantStorageDriver extends VariableStorageDriver {\n  constructor(storage, key) {\n    super();\n    this.key = key;\n    this.storage = storage;\n    // Read has side effects that modify this.records.\n    this.read();\n    global.window.addEventListener('storage', (function (driver) {\n      return function (e) {\n        if (e.storageArea === driver.storage) {\n          driver.read();\n          driver.notifyObservers();\n        }\n      };\n    })(this));\n\n    this.read = this.read.bind(this);\n    this.write = this.write.bind(this);\n  }\n\n  getInstance() {\n    return this;\n  }\n\n  read() {\n    try {\n      this.records = JSON.parse(this.storage.getItem(this.key)) || {};\n    } catch (e) {\n      this.records = {};\n    }\n    return this;\n  }\n\n  write() {\n    this.storage.setItem(this.key, JSON.stringify(this.records));\n    return this;\n  }\n\n  add(record) {\n    if (super.add(record)) {\n      this.write();\n      return true;\n    }\n    return false;\n  }\n\n  remove(record) {\n    if (super.remove(record)) {\n      this.write();\n      return true;\n    }\n    return false;\n  }\n\n  clear(datastore) {\n    if (super.clear(datastore)) {\n      this.write();\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default PersistantStorageDriver;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/PersistantStorageDriver.js","'use strict';\n\nimport SessionStorageDriver from './Prejudice/SessionStorageDriver';\nimport LocalStorageDriver from './Prejudice/LocalStorageDriver';\nimport VariableStorageDriver from './Prejudice/VariableStorageDriver';\n\nimport Action from './Prejudice/Action';\nimport Text from './Prejudice/Action/Text';\nimport Email from './Prejudice/Action/Email';\nimport File from './Prejudice/Action/File';\nimport Tag from './Prejudice/Action/Tag';\nimport Favorite from './Prejudice/Action/Favorite';\nimport UnTag from './Prejudice/Action/UnTag';\nimport UnFavorite from './Prejudice/Action/UnFavorite';\n\nimport Driver from './Prejudice/Driver';\nimport Record from './Prejudice/Driver/Record';\nimport UidHash from './Prejudice/Driver/Record/UidHash';\nimport ReactHash from './Prejudice/Driver/Record/ReactHash';\nimport Pride from './Prejudice/Driver/Record/Pride';\nimport Null from './Prejudice/Driver/Record/Null';\n\nimport Profile from './Prejudice/Profile';\nimport FavoritesList from './Prejudice/FavoritesList';\nimport FavoritesSuggest from './Prejudice/FavoritesSuggest';\n\nimport IdleTimeout from './Prejudice/IdleTimeout';\n\nconst Prejudice = class Prejudice {\n  constructor(init) {\n    this.recordStorage = (init.recordStorage || SessionStorageDriver).getInstance();\n    this.actions = {\n      text: Text,\n      email: Email,\n      tag: Tag,\n      favorite: Favorite,\n      untag: UnTag,\n      unfavorite: UnFavorite,\n      file: File\n    };\n    this.datastores = {};\n\n    this.profile = Profile.getInstance();\n    this.favoritesList = FavoritesList.getInstance();\n    this.favoritesSuggest = FavoritesSuggest.getInstance();\n\n    this.addObserver = this.addObserver.bind(this);\n    this.setRecordStorage = this.setRecordStorage.bind(this);\n    this.addRecord = this.addRecord.bind(this);\n    this.listRecords = this.listRecords.bind(this);\n    this.removeRecord = this.removeRecord.bind(this);\n    this.act = this.act.bind(this);\n    this.clearRecords = this.clearRecords.bind(this);\n    this.registerRecordEngine = this.registerRecordEngine.bind(this);\n    this.resolveRecord = this.resolveRecord.bind(this);\n    this.registerDatastore = this.registerDatastore.bind(this);\n    this.registerActionBaseUrl = this.registerActionBaseUrl.bind(this);\n    this.addProfileObserver = this.addProfileObserver.bind(this);\n    this.addFavoritesListObserver = this.addFavoritesListObserver.bind(this);\n    this.addFavoritesSuggestObserver = this.addFavoritesSuggestObserver.bind(this);\n    this.favoriteAdded = this.favoriteAdded.bind(this);\n    this.favoriteRemoved = this.favoriteRemoved(this);\n    this.tagAdded = this.tagAdded.bind(this);\n    this.tagRemoved = this.tagRemoved.bind(this);\n\n    if (init.recordEngine) {\n      this.registerRecordEngine(init.recordEngine);\n    }\n\n    if (init.datastores) {\n      init.datastores.forEach(function (datastore) {\n        if (datastore.slug && datastore.uid) {\n          this.datastores[datastore.uid] = [\n            init.baseUrl || global.window.location.origin,\n            datastore.slug,\n            'record'\n          ].join('/');\n        }\n      }, this);\n    }\n\n    if (init.actionBaseUrl) {\n      this.registerActionBaseUrl(init.actionBaseUrl);\n    }\n\n    this.actions.favorite.addObserver(this.favoriteAdded);\n    this.actions.unfavorite.addObserver(this.favoriteRemoved);\n    this.actions.tag.addObserver(this.tagAdded);\n    this.actions.untag.addObserver(this.tagRemoved);\n  }\n\n  favoriteAdded(data) {\n    this.favoritesList.addFavorite(data);\n  }\n\n  favoriteRemoved(data) {\n    this.favoritesList.removeFavorite(data);\n  }\n\n  tagAdded(data) {\n    this.favoritesList.addTag(data);\n    this.favoritesSuggest.add(data);\n  }\n\n  tagRemoved(data) {\n    this.favoritesList.removeTag(data);\n  }\n\n  registerActionBaseUrl(baseUrl) {\n    this.profile.registerBaseUrl(baseUrl);\n    this.favoritesList.registerBaseUrl(baseUrl);\n    this.favoritesSuggest.registerBaseUrl(baseUrl);\n    this.actions['text'].registerBaseUrl(baseUrl);\n    this.actions['email'].registerBaseUrl(baseUrl);\n    this.actions['file'].registerBaseUrl(baseUrl);\n    this.actions['favorite'].registerBaseUrl(baseUrl);\n    this.actions['unfavorite'].registerBaseUrl(baseUrl);\n    this.actions['tag'].registerBaseUrl(baseUrl);\n    this.actions['untag'].registerBaseUrl(baseUrl);\n    return this;\n  }\n\n  registerDatastore(datastoreUid, datastoreBaseUrl) {\n    this.datastores[datastoreUid] = datastoreBaseUrl;\n    return this;\n  }\n\n  registerRecordEngine(engine) {\n    Prejudice.Driver.Record.UidHash.registerEngine(engine);\n    Prejudice.Driver.Record.ReactHash.registerEngine(engine);\n    Prejudice.Driver.Record.Pride.registerEngine(engine);\n    return this;\n  }\n\n  addProfileObserver(observer) {\n    this.profile.addObserver(observer);\n    return this;\n  }\n\n  addFavoritesListObserver(observer) {\n    this.favoritesList.addObserver(observer);\n    return this;\n  }\n\n  addFavoritesSuggestObserver(observer) {\n    this.favoritesSuggest.addObserver(observer);\n    return this;\n  }\n\n  addObserver(observer) {\n    this.recordStorage.addObserver(observer);\n    return this;\n  }\n\n  setRecordStorage(storage) {\n    this.recordStorage = storage;\n    return this;\n  }\n\n  addRecord(record) {\n    if (record.uid && record.datastore) {\n      this.recordStorage.add(record);\n      return this;\n    }\n    record = this.resolveRecord(record);\n    record.renderFull((function (record, recordStorage) {\n      return function (data) {\n        if (data.has_holdings) {\n          record.getHoldings((function (recordStorage, data) {\n            return function (holdings) {\n              data['rawHoldings'] = holdings;\n              recordStorage.add(data);\n            };\n          })(recordStorage, data));\n        } else {\n          recordStorage.add(data);\n        }\n      };\n    })(record, this.recordStorage));\n    return this;\n  }\n\n  resolveRecord(data) {\n    if (Prejudice.Driver.Record.ReactHash.match(data)) {\n      return Prejudice.Driver.Record.ReactHash.dataToRecord(data);\n    } else if (Prejudice.Driver.Record.UidHash.match(data)) {\n      return Prejudice.Driver.Record.UidHash.dataToRecord(data);\n    } else if (Prejudice.Driver.Record.Pride.match(data)) {\n      return Prejudice.Driver.Record.Pride.dataToRecord(data);\n    }\n    return Prejudice.Driver.Record.Null.dataToRecord(data);\n  }\n\n  listRecords(datastore) {\n    return this.recordStorage.list(datastore);\n  }\n\n  countRecords(datastore) {\n    return this.recordStorage.count(datastore);\n  }\n\n  removeRecord(record) {\n    if (record.uid && record.datastore) {\n      this.recordStorage.remove(record);\n      return this;\n    }\n    record = this.resolveRecord(record);\n    record.renderFull((function (recordStorage) {\n      return function (data) {\n        recordStorage.remove(data);\n      };\n    })(this.recordStorage));\n    return this;\n  }\n\n  act(action, datastore, argument, callback) {\n    this.actions[action].apply(\n      {\n        to: argument,\n        [datastore]: {\n          records: this.listRecords(datastore).map(item => item.uid),\n          ['base_url']: this.datastores[datastore]\n        }\n      },\n      callback\n    );\n    return this;\n  }\n\n  clearRecords(datastore) {\n    this.recordStorage.clear(datastore);\n    return this;\n  }\n};\n\nObject.defineProperty(Prejudice, 'SessionStorageDriver', {value: SessionStorageDriver});\nObject.defineProperty(Prejudice, 'LocalStorageDriver', {value: LocalStorageDriver});\nObject.defineProperty(Prejudice, 'VariableStorageDriver', {value: VariableStorageDriver});\n\nObject.defineProperty(Prejudice, 'Profile', {value: Profile});\nObject.defineProperty(Prejudice, 'FavoritesList', {value: FavoritesList});\nObject.defineProperty(Prejudice, 'FavoritesSuggest', {value: FavoritesSuggest});\n\nObject.defineProperty(Prejudice, 'IdleTimeout', {value: IdleTimeout});\n\nObject.defineProperty(Prejudice, 'Action', {value: Action});\nObject.defineProperty(Prejudice.Action, 'Text', {value: Text});\nObject.defineProperty(Prejudice.Action, 'Email', {value: Email});\nObject.defineProperty(Prejudice.Action, 'File', {value: File});\nObject.defineProperty(Prejudice.Action, 'Tag', {value: Tag});\nObject.defineProperty(Prejudice.Action, 'Favorite', {value: Favorite});\nObject.defineProperty(Prejudice.Action, 'UnTag', {value: UnTag});\nObject.defineProperty(Prejudice.Action, 'UnFavorite', {value: UnFavorite});\n\nObject.defineProperty(Prejudice, 'Driver', {value: Driver});\nObject.defineProperty(Prejudice.Driver, 'Record', {value: Record});\nObject.defineProperty(Prejudice.Driver.Record, 'UidHash', {value: UidHash});\nObject.defineProperty(Prejudice.Driver.Record, 'ReactHash', {value: ReactHash});\nObject.defineProperty(Prejudice.Driver.Record, 'Pride', {value: Pride});\nObject.defineProperty(Prejudice.Driver.Record, 'Null', {value: Null});\n\nexport default Prejudice;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice.js","import VariableStorageDriver from './VariableStorageDriver';\nimport PersistantStorageDriver from './PersistantStorageDriver';\n\nlet exp = VariableStorageDriver;\n\nif (typeof global.window !== 'undefined') {\n  exp = new PersistantStorageDriver(global.window.sessionStorage, 'Prejudice.sessionStorage');\n}\n\nexport default exp;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/SessionStorageDriver.js","import VariableStorageDriver from './VariableStorageDriver';\nimport PersistantStorageDriver from './PersistantStorageDriver';\n\nlet exp = VariableStorageDriver;\n\nif (typeof global.window !== 'undefined') {\n  exp = new PersistantStorageDriver(global.window.localStorage, 'Prejudice.localStorage');\n}\n\nexport default exp;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/LocalStorageDriver.js","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// xhr2 (ignored)\n// module id = 10\n// module chunks = 0","import Action from '../Action';\n\nclass Text extends Action {\n  constructor() {\n    super();\n    this.path = 'text';\n  }\n};\n\nexport default new Text();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Action/Text.js","import Action from '../Action';\n\nclass Email extends Action {\n  constructor() {\n    super();\n    this.path = 'email';\n  }\n};\n\nexport default new Email();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Action/Email.js","import Action from '../Action';\n\nclass File extends Action {\n  constructor() {\n    super();\n\n    this.path = 'file';\n    this.formId = 'action-file-download';\n    this.targetName = 'action-file-download-target';\n\n    this.ensureForm = this.ensureForm.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n    this.setFormInput = this.setFormInput.bind(this);\n    this.ensureTarget = this.ensureTarget.bind(this);\n  }\n\n  ensureTarget() {\n    if (global.document.getElementsByName(this.targetName).length > 0) {\n      return this;\n    }\n    const iframe = global.document.createElement('iframe');\n\n    iframe.src = 'about:blank';\n    iframe.name = this.targetName;\n    iframe.style = 'visibility: hidden; display: none;';\n    global.document.body.appendChild(iframe);\n    return this;\n  }\n\n  ensureForm() {\n    if (global.document.getElementById(this.formId)) {\n      return this;\n    }\n    const form = global.document.createElement('form');\n    const input = global.document.createElement('input');\n\n    form.id = this.formId;\n    form.action = this.getUrl();\n    form.method = 'post';\n    form.target = this.targetName;\n    form.enctype = 'text/plain';\n\n    input.type = 'hidden';\n    form.appendChild(input);\n    global.document.body.appendChild(form);\n    return this;\n  }\n\n  setFormInput(data) {\n    const input = global.document.getElementById(this.formId).children[0];\n\n    input.name = JSON.stringify(data).slice(0, -1) + ',\"_\":\"';\n    input.value = '\"}';\n  }\n\n  submitForm() {\n    global.document.getElementById(this.formId).submit();\n  }\n\n  apply(data, callback) {\n    this.ensureTarget();\n    this.ensureForm();\n    this.setFormInput(data);\n    this.submitForm();\n    callback({status: 'Success'});\n  }\n};\n\nexport default new File();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Action/File.js","import Action from '../Action';\n\nclass Tag extends Action {\n  constructor() {\n    super();\n    this.path = 'tag';\n  }\n};\n\nexport default new Tag();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Action/Tag.js","import Action from '../Action';\n\nclass Favorite extends Action {\n  constructor() {\n    super();\n    this.path = 'favorite';\n  }\n};\n\nexport default new Favorite();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Action/Favorite.js","import Action from '../Action';\n\nclass UnTag extends Action {\n  constructor() {\n    super();\n    this.path = 'untag';\n  }\n};\n\nexport default new UnTag();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Action/UnTag.js","import Action from '../Action';\n\nclass UnFavorite extends Action {\n  constructor() {\n    super();\n    this.path = 'unfavorite';\n  }\n};\n\nexport default new UnFavorite();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Action/UnFavorite.js","class Driver {\n}\nexport default Driver;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Driver.js","import Record from '../Record';\n\nclass UidHash extends Record {\n  constructor() {\n    super();\n\n    this.dataToRecord = this.dataToRecord.bind(this);\n    this.match = this.match.bind(this);\n  }\n\n  match(data) {\n    return data.datastoreUid && data.recordUid;\n  }\n\n  dataToRecord(data) {\n    return this.engine.requestRecord(data.datastoreUid, data.recordUid);\n  }\n}\n\nexport default new UidHash();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Driver/Record/UidHash.js","import Record from '../Record';\n\nclass ReactHash extends Record {\n  constructor() {\n    super();\n\n    this.dataToRecord = this.dataToRecord.bind(this);\n    this.match = this.match.bind(this);\n  }\n\n  match(data) {\n    return data.datastore && data.uid;\n  }\n\n  dataToRecord(data) {\n    return this.engine.requestRecord(data.datastore, data.uid);\n  }\n}\n\nexport default new ReactHash();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Driver/Record/ReactHash.js","import Record from '../Record';\n\nclass Pride extends Record {\n  constructor() {\n    super();\n\n    this.dataToRecord = this.dataToRecord.bind(this);\n    this.match = this.match.bind(this);\n  }\n\n  match(data) {\n    return data instanceof this.engine.Core.Record;\n  }\n\n  dataToRecord(data) {\n    return data;\n  }\n}\n\nexport default new Pride();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Driver/Record/Pride.js","class Null {\n  match(data) {\n    return false;\n  }\n\n  dataToRecord() {\n    return this;\n  }\n}\n\nexport default new Null();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Driver/Record/Null.js","import reqwest from 'reqwest';\nimport IdleTimeout from './IdleTimeout';\n\nclass Profile {\n\n  constructor() {\n    this.last = {};\n    this.baseUrl = null;\n    this.observers = [];\n    this.interval = null;\n    this.intervalDuration = 300000;\n    this.idleDetection = IdleTimeout;\n\n    this.registerBaseUrl = this.registerBaseUrl.bind(this);\n    this.addObserver = this.addObserver.bind(this);\n    this.notifyObservers = this.notifyObservers.bind(this);\n    this.update = this.update.bind(this);\n    this.handleData = this.handleData.bind(this);\n    this.getUrl = this.getUrl.bind(this);\n    this.setInterval = this.setInterval.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n  }\n\n  getInstance() {\n    return this;\n  }\n\n  setInterval() {\n    if (this.interval) {\n      return this;\n    }\n    this.interval = setInterval((function (profile) {\n      return function () {\n        profile.update();\n      };\n    })(this), this.intervalDuration);\n    return this;\n  }\n\n  notifyObservers() {\n    this.observers.forEach(function (observer) {\n      if (typeof observer === 'function') {\n        observer(this.last);\n      }\n    }, this);\n  }\n\n  update() {\n    if (this.idleDetection.idleTimer && this.idleDetection.idleTimer.isIdle) {\n      return this.idleDetection.setIdleTimer();\n    }\n    if (this.baseUrl && this.observers.length > 0) {\n      const callback = (function (profile) {\n        return function (data) {\n          profile.handleData(data);\n        };\n      })(this);\n\n      reqwest({\n        url: this.getUrl(),\n        type: 'json',\n        method: 'get',\n        contentType: 'application/json',\n        withCredentials: true,\n        error: callback,\n        success: callback\n      });\n    }\n    return this;\n  }\n\n  handleData(data) {\n    if (JSON.stringify(this.last) !== JSON.stringify(data)) {\n      this.last = data;\n      this.notifyObservers();\n    }\n    return this;\n  }\n\n  getUrl() {\n    if (this.baseUrl) {\n      return [this.baseUrl, 'profile'].join('/');\n    }\n    return null;\n  }\n\n  addObserver(observer) {\n    observer(this.last);\n    this.observers.push(observer);\n    this.startup();\n    return this;\n  }\n\n  startup() {\n    if (!this.interval && this.baseUrl && this.observers.length > 0) {\n      this.last = {};\n      this.idleDetection.setIdleTimer();\n      this.update();\n      this.setInterval();\n    }\n    return this;\n  }\n\n  registerBaseUrl(baseUrl) {\n    this.baseUrl = baseUrl;\n    this.startup();\n    return this;\n  }\n}\n\nexport default new Profile();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/Profile.js","/*! idleTimeout v2.0.0 | Copyright (c) 2016-2019 Jacob Mller */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.idleTimeout = factory());\n}(this, function () { 'use strict';\n\n    var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n\n    /** Creates an idle timeout instance. */\n\n    var IdleTimeout =\n    /** @class */\n    function () {\n      /**\r\n       * The idle timeout constructor.\r\n       * @param {Function} callback The callback function to invoke when the timeout is complete.\r\n       * @param {object} [options] The configuration options for the timeout.\r\n       * @returns {void}\r\n       */\n      function IdleTimeout(callback, options) {\n        var _this = this;\n        /** The timeout handle to reset the timeout. */\n\n\n        this.timeoutHandle = null;\n        /** Whether the timeout is idle. */\n\n        this.isIdle = false;\n        /** The start time of the timeout in milliseconds. */\n\n        this.startTime = 0;\n        /** The remaining time of the timeout in milliseconds. */\n\n        this.remainingTime = 0;\n        /** The last X-axis position on the page. */\n\n        this.lastPageX = -1;\n        /** The last Y-axis position on the page. */\n\n        this.lastPageY = -1;\n        /** The input event names. */\n\n        this.eventNames = ['DOMMouseScroll', 'mousedown', 'mousemove', 'mousewheel', 'MSPointerDown', 'MSPointerMove', 'keydown', 'touchmove', 'touchstart', 'wheel'];\n        /**\r\n         * Handle the input events.\r\n         * @param {Event} event The input event.\r\n         * @returns {void}\r\n         */\n\n        this.handleEvent = function (event) {\n          if (_this.remainingTime > 0) {\n            return;\n          }\n\n          if (event.type === 'mousemove') {\n            var _a = event,\n                pageX = _a.pageX,\n                pageY = _a.pageY;\n\n            if (pageX === undefined && pageY === undefined || pageX === _this.lastPageX && pageY === _this.lastPageY) {\n              return;\n            }\n\n            _this.lastPageX = pageX;\n            _this.lastPageY = pageY;\n          }\n\n          _this.resetTimeout();\n        };\n\n        this.callback = callback;\n        this.options = __assign({\n          element: document.body,\n          loop: false,\n          timeout: 60 * 1000 * 5\n        }, options);\n        var element = this.options.element;\n        this.eventNames.forEach(function (eventName) {\n          element.addEventListener(eventName, _this.handleEvent);\n        });\n        this.resetTimeout();\n      }\n      /**\r\n       * Pause the timeout.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.pause = function () {\n        var remainingTime = this.startTime + this.options.timeout - new Date().getTime();\n\n        if (remainingTime <= 0) {\n          return;\n        }\n\n        this.remainingTime = remainingTime;\n\n        if (this.timeoutHandle) {\n          window.clearTimeout(this.timeoutHandle);\n          this.timeoutHandle = null;\n        }\n      };\n      /**\r\n       * Resume the paused timeout.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.resume = function () {\n        if (this.remainingTime <= 0) {\n          return;\n        }\n\n        this.resetTimeout();\n        this.remainingTime = 0;\n      };\n      /**\r\n       * Reset the timeout.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.reset = function () {\n        this.isIdle = false;\n        this.remainingTime = 0;\n        this.resetTimeout();\n      };\n      /**\r\n       * Destroy the instance.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.destroy = function () {\n        var _this = this;\n\n        var element = this.options.element;\n        this.eventNames.forEach(function (eventName) {\n          element.removeEventListener(eventName, _this.handleEvent);\n        });\n\n        if (this.timeoutHandle) {\n          window.clearTimeout(this.timeoutHandle);\n        }\n      };\n      /**\r\n       * Reset the timeout function.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.resetTimeout = function () {\n        var _this = this;\n\n        if (this.timeoutHandle) {\n          window.clearTimeout(this.timeoutHandle);\n          this.timeoutHandle = null;\n        }\n\n        if (this.isIdle && !this.options.loop) {\n          return;\n        }\n\n        this.timeoutHandle = window.setTimeout(function () {\n          _this.handleTimeout();\n        }, this.remainingTime || this.options.timeout);\n        this.startTime = new Date().getTime();\n      };\n      /**\r\n       * Handle the completed timeout.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.handleTimeout = function () {\n        this.isIdle = true;\n        this.resetTimeout();\n        this.callback();\n      };\n\n      Object.defineProperty(IdleTimeout.prototype, \"idle\", {\n        /** Gets whether the timeout is idle. */\n        get: function get() {\n          return this.isIdle;\n        },\n\n        /**\r\n         * Sets whether the timeout is idle.\r\n         * @param {boolean} value Whether the timeout is idle.\r\n         */\n        set: function set(value) {\n          if (value) {\n            this.handleTimeout();\n          } else {\n            this.reset();\n          }\n        },\n        enumerable: true,\n        configurable: true\n      });\n      Object.defineProperty(IdleTimeout.prototype, \"loop\", {\n        /**\r\n         * Sets wether the timeout should restart on completion.\r\n         * @param {boolean} value Wether the timeout should restart on completion.\r\n         */\n        set: function set(value) {\n          this.options.loop = value;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      Object.defineProperty(IdleTimeout.prototype, \"timeout\", {\n        /**\r\n         * Sets the idle timeout in milliseconds.\r\n         * @param {number} value The idle timeout in milliseconds.\r\n         */\n        set: function set(value) {\n          this.options.timeout = value;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      return IdleTimeout;\n    }();\n\n    var idleTimeout = function idleTimeout(callback, options) {\n      return new IdleTimeout(callback, options);\n    };\n\n    return idleTimeout;\n\n}));\n//# sourceMappingURL=idle-timeout.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/idle-timeout/dist/idle-timeout.js\n// module id = 24\n// module chunks = 0","import reqwest from 'reqwest';\nimport IdleTimeout from './IdleTimeout';\n\nclass FavoritesList {\n\n  constructor() {\n    this.last = [];\n    this.baseUrl = null;\n    this.observers = [];\n    this.interval = null;\n    this.intervalDuration = 300000;\n    this.idleDetection = IdleTimeout;\n\n    this.registerBaseUrl = this.registerBaseUrl.bind(this);\n    this.addObserver = this.addObserver.bind(this);\n    this.notifyObservers = this.notifyObservers.bind(this);\n    this.update = this.update.bind(this);\n    this.handleData = this.handleData.bind(this);\n    this.getUrl = this.getUrl.bind(this);\n    this.setInterval = this.setInterval.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.addFavorite = this.addFavorite.bind(this);\n    this.removeFavorite = this.removeFavorite.bind(this);\n    this.addTag = this.addTag.bind(this);\n    this.removeTag = this.removeTag.bind(this);\n  }\n\n  getInstance() {\n    return this;\n  }\n\n  setInterval() {\n    if (this.interval) {\n      return this;\n    }\n    this.interval = setInterval((function (profile) {\n      return function () {\n        profile.update();\n      };\n    })(this), this.intervalDuration);\n    return this;\n  }\n\n  notifyObservers() {\n    this.observers.forEach(function (observer) {\n      if (typeof observer === 'function') {\n        observer(this.last);\n      }\n    }, this);\n  }\n\n  update() {\n    if (this.idleDetection.idleTimer && this.idleDetection.idleTimer.isIdle) {\n      return this.idleDetection.setIdleTimer();\n    }\n    if (this.baseUrl) {\n      const callback = (function (profile) {\n        return function (data) {\n          profile.handleData(data);\n        };\n      })(this);\n\n      reqwest({\n        url: this.getUrl(),\n        type: 'json',\n        method: 'get',\n        contentType: 'application/json',\n        withCredentials: true,\n        error: callback,\n        success: callback\n      });\n    }\n    return this;\n  }\n\n  handleData(data) {\n    if (JSON.stringify(this.last) !== JSON.stringify(data)) {\n      this.last = data;\n      this.notifyObservers();\n    }\n    return this;\n  }\n\n  getUrl() {\n    if (this.baseUrl) {\n      return [this.baseUrl, 'profile', 'favorites', 'list'].join('/');\n    }\n    return null;\n  }\n\n  addObserver(observer) {\n    observer(this.last);\n    this.observers.push(observer);\n    this.startup();\n    return this;\n  }\n\n  startup() {\n    if (!this.interval && this.baseUrl) {\n      this.last = [];\n      this.idleDetection.setIdleTimer();\n      this.update();\n      this.setInterval();\n    }\n    return this;\n  }\n\n  registerBaseUrl(baseUrl) {\n    this.baseUrl = baseUrl;\n    this.startup();\n    return this;\n  }\n\n  favoritedItem(datastore, id, tag) {\n    const ret = {};\n\n    if (datastore === 'mirlyn') {\n      ret.id = ['http://mirlyn.lib.umich.edu/Record/' + id];\n      ret.tags = ['mirlyn-favorite'];\n      ret.type = 'mirlyn';\n    } else if (datastore === 'articlesplus') {\n      ret.id = ['http://www.lib.umich.edu/articles/details/' + id];\n      ret.tags = ['articles-favorite'];\n      ret.type = 'article';\n    } else if (datastore === 'databases') {\n      ret.id = ['http://www.lib.umich.edu/node/' + id];\n      ret.tags = ['databases-favorite'];\n      ret.type = 'database';\n    } else if (datastore === 'journals') {\n      ret.id = ['http://mirlyn.lib.umich.edu/Record/' + id];\n      ret.tags = ['journals-favorite'];\n      ret.type = 'journal';\n    } else if (datastore === 'website') {\n      ret.id = [id];\n      ret.tags = ['website-favorite'];\n      ret.type = 'website';\n    } else {\n      ret.id = [id];\n      ret.tags = [ datastore + '-favorite' ];\n      ret.type = datastore;\n    }\n    return ret;\n  }\n\n  addFavorite(data) {\n    var dirty = false;\n\n    Object.keys(data).forEach(function (datastore) {\n      if (!data[datastore] || !Array.isArray(data[datastore].records)) {\n        return;\n      }\n      (data[datastore].records || []).forEach(function (id) {\n        const record = this.favoritedItem(datastore, id);\n        const existing = this.last.find(function (element) {\n          return element.id[0] === record.id[0];\n        });\n\n        if (!existing) {\n          dirty = true;\n          this.last.push(record);\n        }\n      }, this);\n    }, this);\n\n    if (dirty) {\n      this.notifyObservers();\n    }\n\n    return this;\n  }\n\n  removeFavorite(data) {\n    var dirty = false;\n\n    Object.keys(data).forEach(function (datastore) {\n      if (!data[datastore] || !Array.isArray(data[datastore].records)) {\n        return;\n      }\n      (data[datastore].records || []).forEach(function (id) {\n        const record = this.favoritedItem(datastore, id);\n        const index = this.last.findIndex(function (element) {\n          return element.id[0] === record.id[0];\n        });\n\n        if (index >= 0) {\n          dirty = true;\n          this.last = this.last.slice(0, index).concat(\n            this.last.slice(index + 1, this.last.length)\n          );\n        }\n      }, this);\n    }, this);\n\n    if (dirty) {\n      this.notifyObservers();\n    }\n\n    return this;\n  }\n\n  addTag(data) {\n    const tags = Array.isArray(data.to) ? data.to : [data.to];\n    var dirty = false;\n\n    Object.keys(data).forEach(function (datastore) {\n      if (!data[datastore] || !Array.isArray(data[datastore].records)) {\n        return;\n      }\n      (data[datastore].records || []).forEach(function (id) {\n        const record = this.favoritedItem(datastore, id);\n        const existing = this.last.find(function (element) {\n          return element.id[0] === record.id[0];\n        });\n\n        if (!existing) {\n          dirty = true;\n          record.tags = tags;\n          this.last.push(record);\n        } else {\n          dirty = true;\n          existing.tags = (existing.tags || []).concat(tags);\n        }\n      }, this);\n    }, this);\n\n    if (dirty) {\n      this.notifyObservers();\n    }\n\n    return this;\n  }\n\n  removeTag(data) {\n    const tags = Array.isArray(data.to) ? data.to : [data.to];\n    var dirty = false;\n\n    Object.keys(data).forEach(function (datastore) {\n      if (!data[datastore] || !Array.isArray(data[datastore].records)) {\n        return;\n      }\n      (data[datastore].records || []).forEach(function (id) {\n        const record = this.favoritedItem(datastore, id);\n        const existing = this.last.find(function (element) {\n          return element.id[0] === record.id[0];\n        });\n\n        if (existing) {\n          tags.forEach(function (tag) {\n            const index = existing.tags.findIndex(function (element) {\n              return element === tag;\n            });\n\n            if (index >= 0) {\n              dirty = true;\n              existing.tags = existing.tags.slice(0, index).concat(\n                existing.tags.slice(index + 1, existing.tags.length)\n              );\n            }\n          });\n        }\n      }, this);\n    }, this);\n\n    if (dirty) {\n      this.notifyObservers();\n    }\n\n    return this;\n  }\n}\n\nexport default new FavoritesList();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/FavoritesList.js","import reqwest from 'reqwest';\nimport IdleTimeout from './IdleTimeout';\n\nclass FavoritesSuggest {\n\n  constructor() {\n    this.last = {};\n    this.baseUrl = null;\n    this.observers = [];\n    this.interval = null;\n    this.intervalDuration = 300000;\n    this.idleDetection = IdleTimeout;\n\n    this.registerBaseUrl = this.registerBaseUrl.bind(this);\n    this.addObserver = this.addObserver.bind(this);\n    this.notifyObservers = this.notifyObservers.bind(this);\n    this.update = this.update.bind(this);\n    this.handleData = this.handleData.bind(this);\n    this.getUrl = this.getUrl.bind(this);\n    this.setInterval = this.setInterval.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n    this.add = this.add.bind(this);\n  }\n\n  getInstance() {\n    return this;\n  }\n\n  setInterval() {\n    if (this.interval) {\n      return this;\n    }\n    this.interval = setInterval((function (profile) {\n      return function () {\n        profile.update();\n      };\n    })(this), this.intervalDuration);\n    return this;\n  }\n\n  notifyObservers() {\n    this.observers.forEach(function (observer) {\n      if (typeof observer === 'function') {\n        observer(this.last);\n      }\n    }, this);\n  }\n\n  update() {\n    if (this.idleDetection.idleTimer && this.idleDetection.idleTimer.isIdle) {\n      return this.idleDetection.setIdleTimer();\n    }\n    if (this.baseUrl) {\n      const callback = (function (profile) {\n        return function (data) {\n          profile.handleData(data);\n        };\n      })(this);\n\n      reqwest({\n        url: this.getUrl(),\n        type: 'json',\n        method: 'get',\n        contentType: 'application/json',\n        withCredentials: true,\n        error: callback,\n        success: callback\n      });\n    }\n    return this;\n  }\n\n  handleData(data) {\n    if (JSON.stringify(this.last) !== JSON.stringify(data)) {\n      this.last = data;\n      this.notifyObservers();\n    }\n    return this;\n  }\n\n  getUrl() {\n    if (this.baseUrl) {\n      return [this.baseUrl, 'profile', 'favorites', 'suggest'].join('/');\n    }\n    return null;\n  }\n\n  addObserver(observer) {\n    observer(this.last);\n    this.observers.push(observer);\n    this.startup();\n    return this;\n  }\n\n  startup() {\n    if (!this.interval && this.baseUrl) {\n      this.last = {};\n      this.idleDetection.setIdleTimer();\n      this.update();\n      this.setInterval();\n    }\n    return this;\n  }\n\n  registerBaseUrl(baseUrl) {\n    this.baseUrl = baseUrl;\n    this.startup();\n    return this;\n  }\n\n  add(data) {\n    const tags = Array.isArray(data.to) ? data.to : [data.to];\n    var dirty = false;\n\n    if (!this.last.courses || !this.last.recent) {\n      return this;\n    }\n\n    tags.forEach(function (tag) {\n      if (this.last.recent.find(function (element) { return element === tag; })) {\n        return this;\n      }\n      if (this.last.courses.find(function (element) { return element === tag; })) {\n        return this;\n      }\n      dirty = true;\n      this.last.recent.push(tag);\n      return this;\n    }, this);\n\n    if (dirty) {\n      this.notifyObservers();\n    }\n\n    return this;\n  }\n}\n\nexport default new FavoritesSuggest();\n\n\n\n// WEBPACK FOOTER //\n// ./src/Prejudice/FavoritesSuggest.js"],"sourceRoot":""}