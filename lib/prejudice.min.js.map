{"version":3,"file":"prejudice.min.js","mappings":"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","sources":["webpack://prejudice/webpack/universalModuleDefinition","webpack://prejudice/./node_modules/idle-timeout/dist/idle-timeout.js","webpack://prejudice/./node_modules/reqwest/reqwest.js","webpack://prejudice/webpack/bootstrap","webpack://prejudice/webpack/runtime/compat get default export","webpack://prejudice/webpack/runtime/define property getters","webpack://prejudice/webpack/runtime/global","webpack://prejudice/webpack/runtime/hasOwnProperty shorthand","webpack://prejudice/webpack/runtime/make namespace object","webpack://prejudice/./src/Prejudice/VariableStorageDriver.js","webpack://prejudice/./src/Prejudice/PersistantStorageDriver.js","webpack://prejudice/./src/Prejudice/SessionStorageDriver.js","webpack://prejudice/./src/Prejudice/LocalStorageDriver.js","webpack://prejudice/./src/Prejudice/Action.js","webpack://prejudice/./src/Prejudice/Action/Text.js","webpack://prejudice/./src/Prejudice/Action/Email.js","webpack://prejudice/./src/Prejudice/Action/File.js","webpack://prejudice/./src/Prejudice/Driver.js","webpack://prejudice/./src/Prejudice/Driver/Record.js","webpack://prejudice/./src/Prejudice/Driver/Record/UidHash.js","webpack://prejudice/./src/Prejudice/Driver/Record/ReactHash.js","webpack://prejudice/./src/Prejudice/Driver/Record/Pride.js","webpack://prejudice/./src/Prejudice/Driver/Record/Null.js","webpack://prejudice/./src/Prejudice/IdleTimeout.js","webpack://prejudice/./src/Prejudice/Profile.js","webpack://prejudice/./src/Prejudice.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"prejudice\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"prejudice\"] = factory();\n\telse\n\t\troot[\"prejudice\"] = factory();\n})(self, () => {\nreturn ","/*! idleTimeout v2.0.0 | Copyright (c) 2016-2019 Jacob Müller */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.idleTimeout = factory());\n}(this, function () { 'use strict';\n\n    var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n\n    /** Creates an idle timeout instance. */\n\n    var IdleTimeout =\n    /** @class */\n    function () {\n      /**\r\n       * The idle timeout constructor.\r\n       * @param {Function} callback The callback function to invoke when the timeout is complete.\r\n       * @param {object} [options] The configuration options for the timeout.\r\n       * @returns {void}\r\n       */\n      function IdleTimeout(callback, options) {\n        var _this = this;\n        /** The timeout handle to reset the timeout. */\n\n\n        this.timeoutHandle = null;\n        /** Whether the timeout is idle. */\n\n        this.isIdle = false;\n        /** The start time of the timeout in milliseconds. */\n\n        this.startTime = 0;\n        /** The remaining time of the timeout in milliseconds. */\n\n        this.remainingTime = 0;\n        /** The last X-axis position on the page. */\n\n        this.lastPageX = -1;\n        /** The last Y-axis position on the page. */\n\n        this.lastPageY = -1;\n        /** The input event names. */\n\n        this.eventNames = ['DOMMouseScroll', 'mousedown', 'mousemove', 'mousewheel', 'MSPointerDown', 'MSPointerMove', 'keydown', 'touchmove', 'touchstart', 'wheel'];\n        /**\r\n         * Handle the input events.\r\n         * @param {Event} event The input event.\r\n         * @returns {void}\r\n         */\n\n        this.handleEvent = function (event) {\n          if (_this.remainingTime > 0) {\n            return;\n          }\n\n          if (event.type === 'mousemove') {\n            var _a = event,\n                pageX = _a.pageX,\n                pageY = _a.pageY;\n\n            if (pageX === undefined && pageY === undefined || pageX === _this.lastPageX && pageY === _this.lastPageY) {\n              return;\n            }\n\n            _this.lastPageX = pageX;\n            _this.lastPageY = pageY;\n          }\n\n          _this.resetTimeout();\n        };\n\n        this.callback = callback;\n        this.options = __assign({\n          element: document.body,\n          loop: false,\n          timeout: 60 * 1000 * 5\n        }, options);\n        var element = this.options.element;\n        this.eventNames.forEach(function (eventName) {\n          element.addEventListener(eventName, _this.handleEvent);\n        });\n        this.resetTimeout();\n      }\n      /**\r\n       * Pause the timeout.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.pause = function () {\n        var remainingTime = this.startTime + this.options.timeout - new Date().getTime();\n\n        if (remainingTime <= 0) {\n          return;\n        }\n\n        this.remainingTime = remainingTime;\n\n        if (this.timeoutHandle) {\n          window.clearTimeout(this.timeoutHandle);\n          this.timeoutHandle = null;\n        }\n      };\n      /**\r\n       * Resume the paused timeout.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.resume = function () {\n        if (this.remainingTime <= 0) {\n          return;\n        }\n\n        this.resetTimeout();\n        this.remainingTime = 0;\n      };\n      /**\r\n       * Reset the timeout.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.reset = function () {\n        this.isIdle = false;\n        this.remainingTime = 0;\n        this.resetTimeout();\n      };\n      /**\r\n       * Destroy the instance.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.destroy = function () {\n        var _this = this;\n\n        var element = this.options.element;\n        this.eventNames.forEach(function (eventName) {\n          element.removeEventListener(eventName, _this.handleEvent);\n        });\n\n        if (this.timeoutHandle) {\n          window.clearTimeout(this.timeoutHandle);\n        }\n      };\n      /**\r\n       * Reset the timeout function.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.resetTimeout = function () {\n        var _this = this;\n\n        if (this.timeoutHandle) {\n          window.clearTimeout(this.timeoutHandle);\n          this.timeoutHandle = null;\n        }\n\n        if (this.isIdle && !this.options.loop) {\n          return;\n        }\n\n        this.timeoutHandle = window.setTimeout(function () {\n          _this.handleTimeout();\n        }, this.remainingTime || this.options.timeout);\n        this.startTime = new Date().getTime();\n      };\n      /**\r\n       * Handle the completed timeout.\r\n       * @returns {void}\r\n       */\n\n\n      IdleTimeout.prototype.handleTimeout = function () {\n        this.isIdle = true;\n        this.resetTimeout();\n        this.callback();\n      };\n\n      Object.defineProperty(IdleTimeout.prototype, \"idle\", {\n        /** Gets whether the timeout is idle. */\n        get: function get() {\n          return this.isIdle;\n        },\n\n        /**\r\n         * Sets whether the timeout is idle.\r\n         * @param {boolean} value Whether the timeout is idle.\r\n         */\n        set: function set(value) {\n          if (value) {\n            this.handleTimeout();\n          } else {\n            this.reset();\n          }\n        },\n        enumerable: true,\n        configurable: true\n      });\n      Object.defineProperty(IdleTimeout.prototype, \"loop\", {\n        /**\r\n         * Sets wether the timeout should restart on completion.\r\n         * @param {boolean} value Wether the timeout should restart on completion.\r\n         */\n        set: function set(value) {\n          this.options.loop = value;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      Object.defineProperty(IdleTimeout.prototype, \"timeout\", {\n        /**\r\n         * Sets the idle timeout in milliseconds.\r\n         * @param {number} value The idle timeout in milliseconds.\r\n         */\n        set: function set(value) {\n          this.options.timeout = value;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      return IdleTimeout;\n    }();\n\n    var idleTimeout = function idleTimeout(callback, options) {\n      return new IdleTimeout(callback, options);\n    };\n\n    return idleTimeout;\n\n}));\n//# sourceMappingURL=idle-timeout.js.map\n","/*!\n  * Reqwest! A general purpose XHR connection manager\n  * license MIT (c) Dustin Diaz 2015\n  * https://github.com/ded/reqwest\n  */\n\n!function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else context[name] = definition()\n}('reqwest', this, function () {\n\n  var context = this\n\n  if ('window' in context) {\n    var doc = document\n      , byTag = 'getElementsByTagName'\n      , head = doc[byTag]('head')[0]\n  } else {\n    var XHR2\n    try {\n      XHR2 = require('xhr2')\n    } catch (ex) {\n      throw new Error('Peer dependency `xhr2` required! Please npm install xhr2')\n    }\n  }\n\n\n  var httpsRe = /^http/\n    , protocolRe = /(^\\w+):\\/\\//\n    , twoHundo = /^(20\\d|1223)$/ //http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n    , readyState = 'readyState'\n    , contentType = 'Content-Type'\n    , requestedWith = 'X-Requested-With'\n    , uniqid = 0\n    , callbackPrefix = 'reqwest_' + (+new Date())\n    , lastValue // data stored by the most recent JSONP callback\n    , xmlHttpRequest = 'XMLHttpRequest'\n    , xDomainRequest = 'XDomainRequest'\n    , noop = function () {}\n\n    , isArray = typeof Array.isArray == 'function'\n        ? Array.isArray\n        : function (a) {\n            return a instanceof Array\n          }\n\n    , defaultHeaders = {\n          'contentType': 'application/x-www-form-urlencoded'\n        , 'requestedWith': xmlHttpRequest\n        , 'accept': {\n              '*':  'text/javascript, text/html, application/xml, text/xml, */*'\n            , 'xml':  'application/xml, text/xml'\n            , 'html': 'text/html'\n            , 'text': 'text/plain'\n            , 'json': 'application/json, text/javascript'\n            , 'js':   'application/javascript, text/javascript'\n          }\n      }\n\n    , xhr = function(o) {\n        // is it x-domain\n        if (o['crossOrigin'] === true) {\n          var xhr = context[xmlHttpRequest] ? new XMLHttpRequest() : null\n          if (xhr && 'withCredentials' in xhr) {\n            return xhr\n          } else if (context[xDomainRequest]) {\n            return new XDomainRequest()\n          } else {\n            throw new Error('Browser does not support cross-origin requests')\n          }\n        } else if (context[xmlHttpRequest]) {\n          return new XMLHttpRequest()\n        } else if (XHR2) {\n          return new XHR2()\n        } else {\n          return new ActiveXObject('Microsoft.XMLHTTP')\n        }\n      }\n    , globalSetupOptions = {\n        dataFilter: function (data) {\n          return data\n        }\n      }\n\n  function succeed(r) {\n    var protocol = protocolRe.exec(r.url)\n    protocol = (protocol && protocol[1]) || context.location.protocol\n    return httpsRe.test(protocol) ? twoHundo.test(r.request.status) : !!r.request.response\n  }\n\n  function handleReadyState(r, success, error) {\n    return function () {\n      // use _aborted to mitigate against IE err c00c023f\n      // (can't read props on aborted request objects)\n      if (r._aborted) return error(r.request)\n      if (r._timedOut) return error(r.request, 'Request is aborted: timeout')\n      if (r.request && r.request[readyState] == 4) {\n        r.request.onreadystatechange = noop\n        if (succeed(r)) success(r.request)\n        else\n          error(r.request)\n      }\n    }\n  }\n\n  function setHeaders(http, o) {\n    var headers = o['headers'] || {}\n      , h\n\n    headers['Accept'] = headers['Accept']\n      || defaultHeaders['accept'][o['type']]\n      || defaultHeaders['accept']['*']\n\n    var isAFormData = typeof FormData !== 'undefined' && (o['data'] instanceof FormData);\n    // breaks cross-origin requests with legacy browsers\n    if (!o['crossOrigin'] && !headers[requestedWith]) headers[requestedWith] = defaultHeaders['requestedWith']\n    if (!headers[contentType] && !isAFormData) headers[contentType] = o['contentType'] || defaultHeaders['contentType']\n    for (h in headers)\n      headers.hasOwnProperty(h) && 'setRequestHeader' in http && http.setRequestHeader(h, headers[h])\n  }\n\n  function setCredentials(http, o) {\n    if (typeof o['withCredentials'] !== 'undefined' && typeof http.withCredentials !== 'undefined') {\n      http.withCredentials = !!o['withCredentials']\n    }\n  }\n\n  function generalCallback(data) {\n    lastValue = data\n  }\n\n  function urlappend (url, s) {\n    return url + (/\\?/.test(url) ? '&' : '?') + s\n  }\n\n  function handleJsonp(o, fn, err, url) {\n    var reqId = uniqid++\n      , cbkey = o['jsonpCallback'] || 'callback' // the 'callback' key\n      , cbval = o['jsonpCallbackName'] || reqwest.getcallbackPrefix(reqId)\n      , cbreg = new RegExp('((^|\\\\?|&)' + cbkey + ')=([^&]+)')\n      , match = url.match(cbreg)\n      , script = doc.createElement('script')\n      , loaded = 0\n      , isIE10 = navigator.userAgent.indexOf('MSIE 10.0') !== -1\n\n    if (match) {\n      if (match[3] === '?') {\n        url = url.replace(cbreg, '$1=' + cbval) // wildcard callback func name\n      } else {\n        cbval = match[3] // provided callback func name\n      }\n    } else {\n      url = urlappend(url, cbkey + '=' + cbval) // no callback details, add 'em\n    }\n\n    context[cbval] = generalCallback\n\n    script.type = 'text/javascript'\n    script.src = url\n    script.async = true\n    if (typeof script.onreadystatechange !== 'undefined' && !isIE10) {\n      // need this for IE due to out-of-order onreadystatechange(), binding script\n      // execution to an event listener gives us control over when the script\n      // is executed. See http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n      script.htmlFor = script.id = '_reqwest_' + reqId\n    }\n\n    script.onload = script.onreadystatechange = function () {\n      if ((script[readyState] && script[readyState] !== 'complete' && script[readyState] !== 'loaded') || loaded) {\n        return false\n      }\n      script.onload = script.onreadystatechange = null\n      script.onclick && script.onclick()\n      // Call the user callback with the last value stored and clean up values and scripts.\n      fn(lastValue)\n      lastValue = undefined\n      head.removeChild(script)\n      loaded = 1\n    }\n\n    // Add the script to the DOM head\n    head.appendChild(script)\n\n    // Enable JSONP timeout\n    return {\n      abort: function () {\n        script.onload = script.onreadystatechange = null\n        err({}, 'Request is aborted: timeout', {})\n        lastValue = undefined\n        head.removeChild(script)\n        loaded = 1\n      }\n    }\n  }\n\n  function getRequest(fn, err) {\n    var o = this.o\n      , method = (o['method'] || 'GET').toUpperCase()\n      , url = typeof o === 'string' ? o : o['url']\n      // convert non-string objects to query-string form unless o['processData'] is false\n      , data = (o['processData'] !== false && o['data'] && typeof o['data'] !== 'string')\n        ? reqwest.toQueryString(o['data'])\n        : (o['data'] || null)\n      , http\n      , sendWait = false\n\n    // if we're working on a GET request and we have data then we should append\n    // query string to end of URL and not post data\n    if ((o['type'] == 'jsonp' || method == 'GET') && data) {\n      url = urlappend(url, data)\n      data = null\n    }\n\n    if (o['type'] == 'jsonp') return handleJsonp(o, fn, err, url)\n\n    // get the xhr from the factory if passed\n    // if the factory returns null, fall-back to ours\n    http = (o.xhr && o.xhr(o)) || xhr(o)\n\n    http.open(method, url, o['async'] === false ? false : true)\n    setHeaders(http, o)\n    setCredentials(http, o)\n    if (context[xDomainRequest] && http instanceof context[xDomainRequest]) {\n        http.onload = fn\n        http.onerror = err\n        // NOTE: see\n        // http://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/30ef3add-767c-4436-b8a9-f1ca19b4812e\n        http.onprogress = function() {}\n        sendWait = true\n    } else {\n      http.onreadystatechange = handleReadyState(this, fn, err)\n    }\n    o['before'] && o['before'](http)\n    if (sendWait) {\n      setTimeout(function () {\n        http.send(data)\n      }, 200)\n    } else {\n      http.send(data)\n    }\n    return http\n  }\n\n  function Reqwest(o, fn) {\n    this.o = o\n    this.fn = fn\n\n    init.apply(this, arguments)\n  }\n\n  function setType(header) {\n    // json, javascript, text/plain, text/html, xml\n    if (header === null) return undefined; //In case of no content-type.\n    if (header.match('json')) return 'json'\n    if (header.match('javascript')) return 'js'\n    if (header.match('text')) return 'html'\n    if (header.match('xml')) return 'xml'\n  }\n\n  function init(o, fn) {\n\n    this.url = typeof o == 'string' ? o : o['url']\n    this.timeout = null\n\n    // whether request has been fulfilled for purpose\n    // of tracking the Promises\n    this._fulfilled = false\n    // success handlers\n    this._successHandler = function(){}\n    this._fulfillmentHandlers = []\n    // error handlers\n    this._errorHandlers = []\n    // complete (both success and fail) handlers\n    this._completeHandlers = []\n    this._erred = false\n    this._responseArgs = {}\n\n    var self = this\n\n    fn = fn || function () {}\n\n    if (o['timeout']) {\n      this.timeout = setTimeout(function () {\n        timedOut()\n      }, o['timeout'])\n    }\n\n    if (o['success']) {\n      this._successHandler = function () {\n        o['success'].apply(o, arguments)\n      }\n    }\n\n    if (o['error']) {\n      this._errorHandlers.push(function () {\n        o['error'].apply(o, arguments)\n      })\n    }\n\n    if (o['complete']) {\n      this._completeHandlers.push(function () {\n        o['complete'].apply(o, arguments)\n      })\n    }\n\n    function complete (resp) {\n      o['timeout'] && clearTimeout(self.timeout)\n      self.timeout = null\n      while (self._completeHandlers.length > 0) {\n        self._completeHandlers.shift()(resp)\n      }\n    }\n\n    function success (resp) {\n      var type = o['type'] || resp && setType(resp.getResponseHeader('Content-Type')) // resp can be undefined in IE\n      resp = (type !== 'jsonp') ? self.request : resp\n      // use global data filter on response text\n      var filteredResponse = globalSetupOptions.dataFilter(resp.responseText, type)\n        , r = filteredResponse\n      try {\n        resp.responseText = r\n      } catch (e) {\n        // can't assign this in IE<=8, just ignore\n      }\n      if (r) {\n        switch (type) {\n        case 'json':\n          try {\n            resp = context.JSON ? context.JSON.parse(r) : eval('(' + r + ')')\n          } catch (err) {\n            return error(resp, 'Could not parse JSON in response', err)\n          }\n          break\n        case 'js':\n          resp = eval(r)\n          break\n        case 'html':\n          resp = r\n          break\n        case 'xml':\n          resp = resp.responseXML\n              && resp.responseXML.parseError // IE trololo\n              && resp.responseXML.parseError.errorCode\n              && resp.responseXML.parseError.reason\n            ? null\n            : resp.responseXML\n          break\n        }\n      }\n\n      self._responseArgs.resp = resp\n      self._fulfilled = true\n      fn(resp)\n      self._successHandler(resp)\n      while (self._fulfillmentHandlers.length > 0) {\n        resp = self._fulfillmentHandlers.shift()(resp)\n      }\n\n      complete(resp)\n    }\n\n    function timedOut() {\n      self._timedOut = true\n      self.request.abort()\n    }\n\n    function error(resp, msg, t) {\n      resp = self.request\n      self._responseArgs.resp = resp\n      self._responseArgs.msg = msg\n      self._responseArgs.t = t\n      self._erred = true\n      while (self._errorHandlers.length > 0) {\n        self._errorHandlers.shift()(resp, msg, t)\n      }\n      complete(resp)\n    }\n\n    this.request = getRequest.call(this, success, error)\n  }\n\n  Reqwest.prototype = {\n    abort: function () {\n      this._aborted = true\n      this.request.abort()\n    }\n\n  , retry: function () {\n      init.call(this, this.o, this.fn)\n    }\n\n    /**\n     * Small deviation from the Promises A CommonJs specification\n     * http://wiki.commonjs.org/wiki/Promises/A\n     */\n\n    /**\n     * `then` will execute upon successful requests\n     */\n  , then: function (success, fail) {\n      success = success || function () {}\n      fail = fail || function () {}\n      if (this._fulfilled) {\n        this._responseArgs.resp = success(this._responseArgs.resp)\n      } else if (this._erred) {\n        fail(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)\n      } else {\n        this._fulfillmentHandlers.push(success)\n        this._errorHandlers.push(fail)\n      }\n      return this\n    }\n\n    /**\n     * `always` will execute whether the request succeeds or fails\n     */\n  , always: function (fn) {\n      if (this._fulfilled || this._erred) {\n        fn(this._responseArgs.resp)\n      } else {\n        this._completeHandlers.push(fn)\n      }\n      return this\n    }\n\n    /**\n     * `fail` will execute when the request fails\n     */\n  , fail: function (fn) {\n      if (this._erred) {\n        fn(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)\n      } else {\n        this._errorHandlers.push(fn)\n      }\n      return this\n    }\n  , 'catch': function (fn) {\n      return this.fail(fn)\n    }\n  }\n\n  function reqwest(o, fn) {\n    return new Reqwest(o, fn)\n  }\n\n  // normalize newline variants according to spec -> CRLF\n  function normalize(s) {\n    return s ? s.replace(/\\r?\\n/g, '\\r\\n') : ''\n  }\n\n  function serial(el, cb) {\n    var n = el.name\n      , t = el.tagName.toLowerCase()\n      , optCb = function (o) {\n          // IE gives value=\"\" even where there is no value attribute\n          // 'specified' ref: http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-862529273\n          if (o && !o['disabled'])\n            cb(n, normalize(o['attributes']['value'] && o['attributes']['value']['specified'] ? o['value'] : o['text']))\n        }\n      , ch, ra, val, i\n\n    // don't serialize elements that are disabled or without a name\n    if (el.disabled || !n) return\n\n    switch (t) {\n    case 'input':\n      if (!/reset|button|image|file/i.test(el.type)) {\n        ch = /checkbox/i.test(el.type)\n        ra = /radio/i.test(el.type)\n        val = el.value\n        // WebKit gives us \"\" instead of \"on\" if a checkbox has no value, so correct it here\n        ;(!(ch || ra) || el.checked) && cb(n, normalize(ch && val === '' ? 'on' : val))\n      }\n      break\n    case 'textarea':\n      cb(n, normalize(el.value))\n      break\n    case 'select':\n      if (el.type.toLowerCase() === 'select-one') {\n        optCb(el.selectedIndex >= 0 ? el.options[el.selectedIndex] : null)\n      } else {\n        for (i = 0; el.length && i < el.length; i++) {\n          el.options[i].selected && optCb(el.options[i])\n        }\n      }\n      break\n    }\n  }\n\n  // collect up all form elements found from the passed argument elements all\n  // the way down to child elements; pass a '<form>' or form fields.\n  // called with 'this'=callback to use for serial() on each element\n  function eachFormElement() {\n    var cb = this\n      , e, i\n      , serializeSubtags = function (e, tags) {\n          var i, j, fa\n          for (i = 0; i < tags.length; i++) {\n            fa = e[byTag](tags[i])\n            for (j = 0; j < fa.length; j++) serial(fa[j], cb)\n          }\n        }\n\n    for (i = 0; i < arguments.length; i++) {\n      e = arguments[i]\n      if (/input|select|textarea/i.test(e.tagName)) serial(e, cb)\n      serializeSubtags(e, [ 'input', 'select', 'textarea' ])\n    }\n  }\n\n  // standard query string style serialization\n  function serializeQueryString() {\n    return reqwest.toQueryString(reqwest.serializeArray.apply(null, arguments))\n  }\n\n  // { 'name': 'value', ... } style serialization\n  function serializeHash() {\n    var hash = {}\n    eachFormElement.apply(function (name, value) {\n      if (name in hash) {\n        hash[name] && !isArray(hash[name]) && (hash[name] = [hash[name]])\n        hash[name].push(value)\n      } else hash[name] = value\n    }, arguments)\n    return hash\n  }\n\n  // [ { name: 'name', value: 'value' }, ... ] style serialization\n  reqwest.serializeArray = function () {\n    var arr = []\n    eachFormElement.apply(function (name, value) {\n      arr.push({name: name, value: value})\n    }, arguments)\n    return arr\n  }\n\n  reqwest.serialize = function () {\n    if (arguments.length === 0) return ''\n    var opt, fn\n      , args = Array.prototype.slice.call(arguments, 0)\n\n    opt = args.pop()\n    opt && opt.nodeType && args.push(opt) && (opt = null)\n    opt && (opt = opt.type)\n\n    if (opt == 'map') fn = serializeHash\n    else if (opt == 'array') fn = reqwest.serializeArray\n    else fn = serializeQueryString\n\n    return fn.apply(null, args)\n  }\n\n  reqwest.toQueryString = function (o, trad) {\n    var prefix, i\n      , traditional = trad || false\n      , s = []\n      , enc = encodeURIComponent\n      , add = function (key, value) {\n          // If value is a function, invoke it and return its value\n          value = ('function' === typeof value) ? value() : (value == null ? '' : value)\n          s[s.length] = enc(key) + '=' + enc(value)\n        }\n    // If an array was passed in, assume that it is an array of form elements.\n    if (isArray(o)) {\n      for (i = 0; o && i < o.length; i++) add(o[i]['name'], o[i]['value'])\n    } else {\n      // If traditional, encode the \"old\" way (the way 1.3.2 or older\n      // did it), otherwise encode params recursively.\n      for (prefix in o) {\n        if (o.hasOwnProperty(prefix)) buildParams(prefix, o[prefix], traditional, add)\n      }\n    }\n\n    // spaces should be + according to spec\n    return s.join('&').replace(/%20/g, '+')\n  }\n\n  function buildParams(prefix, obj, traditional, add) {\n    var name, i, v\n      , rbracket = /\\[\\]$/\n\n    if (isArray(obj)) {\n      // Serialize array item.\n      for (i = 0; obj && i < obj.length; i++) {\n        v = obj[i]\n        if (traditional || rbracket.test(prefix)) {\n          // Treat each array item as a scalar.\n          add(prefix, v)\n        } else {\n          buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, traditional, add)\n        }\n      }\n    } else if (obj && obj.toString() === '[object Object]') {\n      // Serialize object item.\n      for (name in obj) {\n        buildParams(prefix + '[' + name + ']', obj[name], traditional, add)\n      }\n\n    } else {\n      // Serialize scalar item.\n      add(prefix, obj)\n    }\n  }\n\n  reqwest.getcallbackPrefix = function () {\n    return callbackPrefix\n  }\n\n  // jQuery and Zepto compatibility, differences can be remapped here so you can call\n  // .ajax.compat(options, callback)\n  reqwest.compat = function (o, fn) {\n    if (o) {\n      o['type'] && (o['method'] = o['type']) && delete o['type']\n      o['dataType'] && (o['type'] = o['dataType'])\n      o['jsonpCallback'] && (o['jsonpCallbackName'] = o['jsonpCallback']) && delete o['jsonpCallback']\n      o['jsonp'] && (o['jsonpCallback'] = o['jsonp'])\n    }\n    return new Reqwest(o, fn)\n  }\n\n  reqwest.ajaxSetup = function (options) {\n    options = options || {}\n    for (var k in options) {\n      globalSetupOptions[k] = options[k]\n    }\n  }\n\n  return reqwest\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","class VariableStorageDriver {\n  constructor () {\n    this.records = {};\n    this.observers = [];\n\n    this.addObserver = this.addObserver.bind(this);\n    this.notifyObservers = this.notifyObservers.bind(this);\n    this.add = this.add.bind(this);\n    this.remove = this.remove.bind(this);\n    this.clear = this.clear.bind(this);\n    this.list = this.list.bind(this);\n    this.count = this.count.bind(this);\n    this.findIndex = this.findIndex.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n  }\n\n  getInstance () {\n    return new this.constructor();\n  }\n\n  notifyObservers () {\n    this.observers.forEach(\n      function (observer) {\n        if (typeof observer === 'function') {\n          observer(this.records);\n        }\n      },\n      this\n    );\n    return this;\n  }\n\n  addObserver (observer) {\n    this.observers.push(observer);\n    return this;\n  }\n\n  add (record) {\n    const idx = this.findIndex(record);\n\n    if (idx === -1) {\n      this.records[record.datastore] = this.records[record.datastore] || [];\n      this.records[record.datastore].push(record);\n      this.notifyObservers();\n      return true;\n    }\n    return false;\n  }\n\n  findIndex (record) {\n    if (!this.records[record.datastore]) {\n      return -1;\n    }\n    return this.records[record.datastore].findIndex(function (item) {\n      return item.datastore === record.datastore && item.uid === record.uid;\n    });\n  }\n\n  remove (record) {\n    const idx = this.findIndex(record);\n\n    if (idx >= 0) {\n      this.records[record.datastore].splice(idx, 1);\n      this.notifyObservers();\n      return true;\n    }\n    return false;\n  }\n\n  clear (datastore) {\n    if (datastore && this.count(datastore) > 0) {\n      this.records[datastore] = [];\n      this.notifyObservers();\n      return true;\n    } else if (this.count() > 0) {\n      this.records = {};\n      this.notifyObservers();\n      return true;\n    }\n    return false;\n  }\n\n  list (datastore) {\n    if (datastore) {\n      return this.records[datastore] || [];\n    }\n    let ret = [];\n\n    Object.keys(this.records).forEach(function (key) {\n      ret = ret.concat(this.list(key));\n    }, this);\n    return ret;\n  }\n\n  count (datastore) {\n    if (datastore) {\n      return this.list(datastore).length;\n    }\n    let ret = 0;\n\n    Object.keys(this.records).forEach(function (key) {\n      ret += this.count(key);\n    }, this);\n    return ret;\n  }\n}\n\nexport default new VariableStorageDriver();\nexport { VariableStorageDriver };\n","import { VariableStorageDriver } from './VariableStorageDriver';\n\nclass PersistantStorageDriver extends VariableStorageDriver {\n  constructor (storage, key) {\n    super();\n    this.key = key;\n    this.storage = storage;\n    // Read has side effects that modify this.records.\n    this.read();\n    global.window.addEventListener('storage', (function (driver) {\n      return function (e) {\n        if (e.storageArea === driver.storage) {\n          driver.read();\n          driver.notifyObservers();\n        }\n      };\n    })(this));\n\n    this.read = this.read.bind(this);\n    this.write = this.write.bind(this);\n  }\n\n  getInstance () {\n    return this;\n  }\n\n  read () {\n    try {\n      this.records = JSON.parse(this.storage.getItem(this.key)) || {};\n    } catch (e) {\n      this.records = {};\n    }\n    return this;\n  }\n\n  write () {\n    this.storage.setItem(this.key, JSON.stringify(this.records));\n    return this;\n  }\n\n  add (record) {\n    if (super.add(record)) {\n      this.write();\n      return true;\n    }\n    return false;\n  }\n\n  remove (record) {\n    if (super.remove(record)) {\n      this.write();\n      return true;\n    }\n    return false;\n  }\n\n  clear (datastore) {\n    if (super.clear(datastore)) {\n      this.write();\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default PersistantStorageDriver;\n","import VariableStorageDriver from './VariableStorageDriver';\nimport PersistantStorageDriver from './PersistantStorageDriver';\n\nlet exp = VariableStorageDriver;\n\nif (typeof global.window !== 'undefined') {\n  exp = new PersistantStorageDriver(global.window.sessionStorage, 'Prejudice.sessionStorage');\n}\n\nexport default exp;\n","import VariableStorageDriver from './VariableStorageDriver';\nimport PersistantStorageDriver from './PersistantStorageDriver';\n\nlet exp = VariableStorageDriver;\n\nif (typeof global.window !== 'undefined') {\n  exp = new PersistantStorageDriver(global.window.localStorage, 'Prejudice.localStorage');\n}\n\nexport default exp;\n","import reqwest from 'reqwest';\n\nconst Action = class Action {\n  constructor (init) {\n    this.baseUrl = (init && init.baseUrl) || '';\n    this.observers = [];\n\n    this.apply = this.apply.bind(this);\n    this.registerBaseUrl = this.registerBaseUrl.bind(this);\n    this.getUrl = this.getUrl.bind(this);\n    this.addObserver = this.addObserver.bind(this);\n  }\n\n  getUrl () {\n    return [this.baseUrl, this.path].join('/');\n  }\n\n  apply (data, callback) {\n    this.observers.forEach(\n      function (observer) {\n        if (typeof observer === 'function') {\n          observer(data);\n        }\n      },\n      this\n    );\n    reqwest({\n      url: this.getUrl(),\n      data: JSON.stringify(data),\n      type: 'json',\n      method: 'post',\n      contentType: 'application/json',\n      withCredentials: true,\n      error: callback,\n      success: callback\n    });\n    return this;\n  }\n\n  registerBaseUrl (baseUrl) {\n    this.baseUrl = baseUrl;\n    return this;\n  }\n\n  addObserver (observer) {\n    this.observers.push(observer);\n  }\n};\n\nexport default Action;\n","import Action from '../Action';\n\nclass Text extends Action {\n  constructor () {\n    super();\n    this.path = 'text';\n  }\n};\n\nexport default new Text();\n","import Action from '../Action';\n\nclass Email extends Action {\n  constructor () {\n    super();\n    this.path = 'email';\n  }\n};\n\nexport default new Email();\n","import Action from '../Action';\n\nclass File extends Action {\n  constructor () {\n    super();\n\n    this.path = 'file';\n    this.formId = 'action-file-download';\n    this.targetName = 'action-file-download-target';\n\n    this.ensureForm = this.ensureForm.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n    this.setFormInput = this.setFormInput.bind(this);\n    this.ensureTarget = this.ensureTarget.bind(this);\n  }\n\n  ensureTarget () {\n    if (global.document.getElementsByName(this.targetName).length > 0) {\n      return this;\n    }\n    const iframe = global.document.createElement('iframe');\n\n    iframe.src = 'about:blank';\n    iframe.name = this.targetName;\n    iframe.style = 'visibility: hidden; display: none;';\n    global.document.body.appendChild(iframe);\n    return this;\n  }\n\n  ensureForm () {\n    if (global.document.getElementById(this.formId)) {\n      return this;\n    }\n    const form = global.document.createElement('form');\n    const input = global.document.createElement('input');\n\n    form.id = this.formId;\n    form.action = this.getUrl();\n    form.method = 'post';\n    form.target = this.targetName;\n    form.enctype = 'text/plain';\n\n    input.type = 'hidden';\n    form.appendChild(input);\n    global.document.body.appendChild(form);\n    return this;\n  }\n\n  setFormInput (data) {\n    const input = global.document.getElementById(this.formId).children[0];\n\n    input.name = JSON.stringify(data).slice(0, -1) + ',\"_\":\"';\n    input.value = '\"}';\n  }\n\n  submitForm () {\n    global.document.getElementById(this.formId).submit();\n  }\n\n  apply (data, callback) {\n    this.ensureTarget();\n    this.ensureForm();\n    this.setFormInput(data);\n    this.submitForm();\n    callback(null, { status: 'Success' });\n  }\n};\n\nexport default new File();\n","class Driver {\n}\nexport default Driver;\n","class Record {\n  constructor () {\n    this.engine = null;\n    this.registerEngine = this.registerEngine.bind(this);\n  }\n\n  registerEngine (engine) {\n    this.engine = engine;\n  }\n}\nexport default Record;\n","import Record from '../Record';\n\nclass UidHash extends Record {\n  constructor () {\n    super();\n\n    this.dataToRecord = this.dataToRecord.bind(this);\n    this.match = this.match.bind(this);\n  }\n\n  match (data) {\n    return data.datastoreUid && data.recordUid;\n  }\n\n  dataToRecord (data) {\n    return this.engine.requestRecord(data.datastoreUid, data.recordUid);\n  }\n}\n\nexport default new UidHash();\n","import Record from '../Record';\n\nclass ReactHash extends Record {\n  constructor () {\n    super();\n\n    this.dataToRecord = this.dataToRecord.bind(this);\n    this.match = this.match.bind(this);\n  }\n\n  match (data) {\n    return data.datastore && data.uid;\n  }\n\n  dataToRecord (data) {\n    return this.engine.requestRecord(data.datastore, data.uid);\n  }\n}\n\nexport default new ReactHash();\n","import Record from '../Record';\n\nclass Pride extends Record {\n  constructor () {\n    super();\n\n    this.dataToRecord = this.dataToRecord.bind(this);\n    this.match = this.match.bind(this);\n  }\n\n  match (data) {\n    return data instanceof this.engine.Core.Record;\n  }\n\n  dataToRecord (data) {\n    return data;\n  }\n}\n\nexport default new Pride();\n","class Null {\n  match (data) {\n    return false;\n  }\n\n  dataToRecord () {\n    return this;\n  }\n}\n\nexport default new Null();\n","import idleTimeout from 'idle-timeout';\n\nclass IdleTimeout {\n  constructor () {\n    this.idleTimer = null;\n    this.setIdleTimer = this.setIdleTimer.bind(this);\n  }\n\n  setIdleTimer () {\n    this.idleTimer = idleTimeout(\n      () => {\n        //\n      },\n      {\n        element: document,\n        timeout: 3600000\n      }\n    );\n    return this;\n  }\n}\n\nexport default new IdleTimeout();\n","import reqwest from 'reqwest';\nimport IdleTimeout from './IdleTimeout';\n\nclass Profile {\n  constructor () {\n    this.last = {};\n    this.baseUrl = null;\n    this.observers = [];\n    this.interval = null;\n    this.intervalDuration = 300000;\n    this.idleDetection = IdleTimeout;\n\n    this.registerBaseUrl = this.registerBaseUrl.bind(this);\n    this.addObserver = this.addObserver.bind(this);\n    this.notifyObservers = this.notifyObservers.bind(this);\n    this.update = this.update.bind(this);\n    this.handleData = this.handleData.bind(this);\n    this.getUrl = this.getUrl.bind(this);\n    this.setInterval = this.setInterval.bind(this);\n    this.getInstance = this.getInstance.bind(this);\n  }\n\n  getInstance () {\n    return this;\n  }\n\n  setInterval () {\n    if (this.interval) {\n      return this;\n    }\n    this.interval = setInterval((function (profile) {\n      return function () {\n        profile.update();\n      };\n    })(this), this.intervalDuration);\n    return this;\n  }\n\n  notifyObservers () {\n    this.observers.forEach(function (observer) {\n      if (typeof observer === 'function') {\n        observer(this.last);\n      }\n    }, this);\n  }\n\n  update () {\n    if (this.idleDetection.idleTimer && this.idleDetection.idleTimer.isIdle) {\n      this.idleDetection.setIdleTimer();\n      return this;\n    }\n    if (this.baseUrl && this.observers.length > 0) {\n      const callback = (function (profile) {\n        return function (data) {\n          profile.handleData(data);\n        };\n      })(this);\n\n      reqwest({\n        url: this.getUrl(),\n        type: 'json',\n        method: 'get',\n        contentType: 'application/json',\n        withCredentials: true,\n        error: callback,\n        success: callback\n      });\n    }\n    return this;\n  }\n\n  handleData (data) {\n    if (JSON.stringify(this.last) !== JSON.stringify(data)) {\n      this.last = data;\n      this.notifyObservers();\n    }\n    return this;\n  }\n\n  getUrl () {\n    if (this.baseUrl) {\n      return [this.baseUrl, 'profile'].join('/');\n    }\n    return null;\n  }\n\n  addObserver (observer) {\n    observer(this.last);\n    this.observers.push(observer);\n    this.startup();\n    return this;\n  }\n\n  startup () {\n    if (!this.interval && this.baseUrl && this.observers.length > 0) {\n      this.last = {};\n      this.idleDetection.setIdleTimer();\n      this.update();\n      this.setInterval();\n    }\n    return this;\n  }\n\n  registerBaseUrl (baseUrl) {\n    this.baseUrl = baseUrl;\n    this.startup();\n    return this;\n  }\n}\n\nexport default new Profile();\n","'use strict';\n\nimport SessionStorageDriver from './Prejudice/SessionStorageDriver';\nimport LocalStorageDriver from './Prejudice/LocalStorageDriver';\nimport VariableStorageDriver from './Prejudice/VariableStorageDriver';\n\nimport Action from './Prejudice/Action';\nimport Text from './Prejudice/Action/Text';\nimport Email from './Prejudice/Action/Email';\nimport File from './Prejudice/Action/File';\n\nimport Driver from './Prejudice/Driver';\nimport Record from './Prejudice/Driver/Record';\nimport UidHash from './Prejudice/Driver/Record/UidHash';\nimport ReactHash from './Prejudice/Driver/Record/ReactHash';\nimport Pride from './Prejudice/Driver/Record/Pride';\nimport Null from './Prejudice/Driver/Record/Null';\n\nimport Profile from './Prejudice/Profile';\n\nimport IdleTimeout from './Prejudice/IdleTimeout';\n\nconst Prejudice = class Prejudice {\n  constructor (init) {\n    this.recordStorage = (init.recordStorage || SessionStorageDriver).getInstance();\n    this.actions = {\n      text: Text,\n      email: Email,\n      file: File\n    };\n    this.datastores = {};\n\n    this.profile = Profile.getInstance();\n\n    this.addObserver = this.addObserver.bind(this);\n    this.setRecordStorage = this.setRecordStorage.bind(this);\n    this.addRecord = this.addRecord.bind(this);\n    this.listRecords = this.listRecords.bind(this);\n    this.removeRecord = this.removeRecord.bind(this);\n    this.act = this.act.bind(this);\n    this.clearRecords = this.clearRecords.bind(this);\n    this.registerRecordEngine = this.registerRecordEngine.bind(this);\n    this.resolveRecord = this.resolveRecord.bind(this);\n    this.registerDatastore = this.registerDatastore.bind(this);\n    this.registerActionBaseUrl = this.registerActionBaseUrl.bind(this);\n    this.addProfileObserver = this.addProfileObserver.bind(this);\n    if (init.recordEngine) {\n      this.registerRecordEngine(init.recordEngine);\n    }\n\n    if (init.datastores) {\n      init.datastores.forEach(function (datastore) {\n        if (datastore.slug && datastore.uid) {\n          this.datastores[datastore.uid] = [\n            init.baseUrl || global.window.location.origin,\n            datastore.slug,\n            'record'\n          ].join('/');\n        }\n      }, this);\n    }\n\n    if (init.actionBaseUrl) {\n      this.registerActionBaseUrl(init.actionBaseUrl);\n    }\n  }\n\n  registerActionBaseUrl (baseUrl) {\n    this.profile.registerBaseUrl(baseUrl);\n    this.actions.text.registerBaseUrl(baseUrl);\n    this.actions.email.registerBaseUrl(baseUrl);\n    this.actions.file.registerBaseUrl(baseUrl);\n    return this;\n  }\n\n  registerDatastore (datastoreUid, datastoreBaseUrl) {\n    this.datastores[datastoreUid] = datastoreBaseUrl;\n    return this;\n  }\n\n  registerRecordEngine (engine) {\n    Prejudice.Driver.Record.UidHash.registerEngine(engine);\n    Prejudice.Driver.Record.ReactHash.registerEngine(engine);\n    Prejudice.Driver.Record.Pride.registerEngine(engine);\n    return this;\n  }\n\n  addProfileObserver (observer) {\n    this.profile.addObserver(observer);\n    return this;\n  }\n\n  addObserver (observer) {\n    this.recordStorage.addObserver(observer);\n    return this;\n  }\n\n  setRecordStorage (storage) {\n    this.recordStorage = storage;\n    return this;\n  }\n\n  addRecord (record) {\n    if (record.uid && record.datastore) {\n      this.recordStorage.add(record);\n      return this;\n    }\n    record = this.resolveRecord(record);\n    record.renderFull((function (record, recordStorage) {\n      return function (data) {\n        if (data.has_holdings) {\n          record.getHoldings((function (recordStorage, data) {\n            return function (holdings) {\n              data.rawHoldings = holdings;\n              recordStorage.add(data);\n            };\n          })(recordStorage, data));\n        } else {\n          recordStorage.add(data);\n        }\n      };\n    })(record, this.recordStorage));\n    return this;\n  }\n\n  resolveRecord (data) {\n    if (Prejudice.Driver.Record.ReactHash.match(data)) {\n      return Prejudice.Driver.Record.ReactHash.dataToRecord(data);\n    } else if (Prejudice.Driver.Record.UidHash.match(data)) {\n      return Prejudice.Driver.Record.UidHash.dataToRecord(data);\n    } else if (Prejudice.Driver.Record.Pride.match(data)) {\n      return Prejudice.Driver.Record.Pride.dataToRecord(data);\n    }\n    return Prejudice.Driver.Record.Null.dataToRecord(data);\n  }\n\n  listRecords (datastore) {\n    return this.recordStorage.list(datastore);\n  }\n\n  countRecords (datastore) {\n    return this.recordStorage.count(datastore);\n  }\n\n  removeRecord (record) {\n    if (record.uid && record.datastore) {\n      this.recordStorage.remove(record);\n      return this;\n    }\n    record = this.resolveRecord(record);\n    record.renderFull((function (recordStorage) {\n      return function (data) {\n        recordStorage.remove(data);\n      };\n    })(this.recordStorage));\n    return this;\n  }\n\n  act (action, datastore, argument, callback) {\n    this.actions[action].apply(\n      {\n        to: argument,\n        [datastore]: {\n          records: this.listRecords(datastore).map((item) => {\n            return item.uid;\n          }),\n          base_url: this.datastores[datastore]\n        }\n      },\n      callback\n    );\n    return this;\n  }\n\n  clearRecords (datastore) {\n    this.recordStorage.clear(datastore);\n    return this;\n  }\n};\n\nObject.defineProperty(Prejudice, 'SessionStorageDriver', { value: SessionStorageDriver });\nObject.defineProperty(Prejudice, 'LocalStorageDriver', { value: LocalStorageDriver });\nObject.defineProperty(Prejudice, 'VariableStorageDriver', { value: VariableStorageDriver });\n\nObject.defineProperty(Prejudice, 'Profile', { value: Profile });\n\nObject.defineProperty(Prejudice, 'IdleTimeout', { value: IdleTimeout });\n\nObject.defineProperty(Prejudice, 'Action', { value: Action });\nObject.defineProperty(Prejudice.Action, 'Text', { value: Text });\nObject.defineProperty(Prejudice.Action, 'Email', { value: Email });\nObject.defineProperty(Prejudice.Action, 'File', { value: File });\n\nObject.defineProperty(Prejudice, 'Driver', { value: Driver });\nObject.defineProperty(Prejudice.Driver, 'Record', { value: Record });\nObject.defineProperty(Prejudice.Driver.Record, 'UidHash', { value: UidHash });\nObject.defineProperty(Prejudice.Driver.Record, 'ReactHash', { value: ReactHash });\nObject.defineProperty(Prejudice.Driver.Record, 'Pride', { value: Pride });\nObject.defineProperty(Prejudice.Driver.Record, 'Null', { value: Null });\n\nexport default Prejudice;\n"],"names":["root","factory","exports","module","define","amd","self","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","IdleTimeout","callback","options","_this","timeoutHandle","isIdle","startTime","remainingTime","lastPageX","lastPageY","eventNames","handleEvent","event","type","_a","pageX","pageY","undefined","resetTimeout","element","document","body","loop","timeout","forEach","eventName","addEventListener","pause","Date","getTime","window","clearTimeout","resume","reset","destroy","removeEventListener","setTimeout","handleTimeout","defineProperty","get","set","value","enumerable","configurable","definition","context","XHR2","doc","byTag","head","ex","Error","httpsRe","protocolRe","twoHundo","readyState","contentType","requestedWith","uniqid","callbackPrefix","lastValue","xmlHttpRequest","xDomainRequest","noop","isArray","Array","a","defaultHeaders","xhr","o","XMLHttpRequest","XDomainRequest","ActiveXObject","globalSetupOptions","dataFilter","data","succeed","r","protocol","exec","url","location","test","request","status","response","handleReadyState","success","error","_aborted","_timedOut","onreadystatechange","setHeaders","http","h","headers","isAFormData","FormData","setRequestHeader","setCredentials","withCredentials","generalCallback","urlappend","handleJsonp","fn","err","reqId","cbkey","cbval","reqwest","getcallbackPrefix","cbreg","RegExp","match","script","createElement","loaded","isIE10","navigator","userAgent","indexOf","replace","src","async","htmlFor","id","onload","onclick","removeChild","appendChild","abort","getRequest","method","toUpperCase","toQueryString","sendWait","open","onerror","onprogress","send","Reqwest","init","setType","header","_fulfilled","_successHandler","_fulfillmentHandlers","_errorHandlers","_completeHandlers","_erred","_responseArgs","complete","resp","shift","getResponseHeader","filteredResponse","responseText","e","JSON","parse","eval","responseXML","parseError","errorCode","reason","timedOut","msg","push","normalize","serial","el","cb","ch","ra","val","name","tagName","toLowerCase","optCb","disabled","checked","selectedIndex","selected","eachFormElement","serializeSubtags","tags","j","fa","serializeQueryString","serializeArray","serializeHash","hash","buildParams","prefix","obj","traditional","add","v","rbracket","toString","retry","then","fail","always","arr","serialize","opt","args","slice","pop","nodeType","trad","enc","encodeURIComponent","key","join","compat","ajaxSetup","k","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","d","g","globalThis","Function","prop","Symbol","toStringTag","VariableStorageDriver","_classCallCheck","records","observers","addObserver","bind","notifyObservers","remove","clear","list","count","findIndex","getInstance","constructor","observer","record","datastore","item","uid","idx","splice","ret","keys","concat","_VariableStorageDrive","_inherits","PersistantStorageDriver","_super","_createSuper","storage","driver","read","global","_assertThisInitialized","storageArea","write","getItem","setItem","stringify","_get","_getPrototypeOf","exp","sessionStorage","localStorage","Action","baseUrl","registerBaseUrl","getUrl","path","_Action","Text","Email","File","formId","targetName","ensureForm","submitForm","setFormInput","ensureTarget","getElementsByName","iframe","style","getElementById","form","input","action","target","enctype","children","submit","_createClass","Driver","Record","engine","registerEngine","_Record","UidHash","dataToRecord","datastoreUid","recordUid","requestRecord","ReactHash","Pride","Core","Null","idleTimer","setIdleTimer","idleTimeout","Profile","last","interval","intervalDuration","idleDetection","update","handleData","setInterval","_setInterval","profile","startup","_typeof","iterator","_defineProperties","props","descriptor","writable","_toPropertyKey","arg","hint","prim","toPrimitive","res","TypeError","String","Number","_toPrimitive","Prejudice","instance","Constructor","recordStorage","SessionStorageDriver","actions","text","email","file","datastores","setRecordStorage","addRecord","listRecords","removeRecord","act","clearRecords","registerRecordEngine","resolveRecord","registerDatastore","registerActionBaseUrl","addProfileObserver","recordEngine","slug","origin","actionBaseUrl","protoProps","staticProps","datastoreBaseUrl","renderFull","has_holdings","getHoldings","holdings","rawHoldings","argument","to","map","base_url","LocalStorageDriver"],"sourceRoot":""}